/*! For license information please see chunk.4da579831610309e94d3.js.LICENSE.txt */
"use strict";(self.webpackChunkbody_weight_excercise=self.webpackChunkbody_weight_excercise||[]).push([[370],{68713:(e,t,n)=>{n.d(t,{JL:()=>r,Zu:()=>s});class r{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class s{refCount(e){return a("refCount")}incRef(e){return a("incRef")}timerAvailable(){return!0}time(e){return a("time")}read(e){return a("read")}readSync(e){return a("readSync")}readToGPU(e,t){return a("readToGPU")}numDataIds(){return a("numDataIds")}disposeData(e,t){return a("disposeData")}write(e,t,n){return a("write")}move(e,t,n,r,s){return a("move")}createTensorFromGPUData(e,t,n){return a("createTensorFromGPUData")}memory(){return a("memory")}floatPrecision(){return a("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return a("dispose")}}function a(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}},83337:(e,t,n)=>{function r(e,t,n){const r=function(e,t,n){return function(e,t,n){let r=0,s=e.length,a=0,o=!1;for(;r<s;){a=r+(s-r>>>1);const i=n(t,e[a]);i>0?r=a+1:(s=a,o=!i)}return o?r:-r-1}(e,t,n||s)}(e,t,n),a=r<0?-(r+1):r;e.splice(a,0,t)}function s(e,t){return e>t?1:e<t?-1:0}function a(e,t,n,r,s){return l(e,t,n,r,s,0)}function o(e,t,n,r,s,a){return l(e,t,n,r,s,0,!1,a,!0)}function i(e,t,n,r,s,a){return l(e,t,n,r,s,a,!0)}function l(e,t,n,s,a,o,i=!1,l=!1,h=!1){const p=[];for(let e=0;e<t.length;e++)t[e]>a&&p.push({score:t[e],boxIndex:e,suppressBeginIndex:0});p.sort(d);const g=o>0?-.5/o:0,f=[],m=[];for(;f.length<n&&p.length>0;){const t=p.pop(),{score:n,boxIndex:o,suppressBeginIndex:i}=t;if(n<a)break;let l=!1;for(let n=f.length-1;n>=i;--n){const r=c(e,o,f[n]);if(r>=s){l=!0;break}if(t.score=t.score*u(s,g,r),t.score<=a)break}t.suppressBeginIndex=f.length,l||(t.score===n?(f.push(o),m.push(t.score)):t.score>a&&r(p,t,d))}const y=f.length,w=n-y;l&&w>0&&(f.push(...new Array(w).fill(0)),m.push(...new Array(w).fill(0)));const v={selectedIndices:f};return i&&(v.selectedScores=m),h&&(v.validOutputs=y),v}function c(e,t,n){const r=e.subarray(4*t,4*t+4),s=e.subarray(4*n,4*n+4),a=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),i=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),c=Math.min(s[0],s[2]),u=Math.min(s[1],s[3]),d=Math.max(s[0],s[2]),h=Math.max(s[1],s[3]),p=(i-a)*(l-o),g=(d-c)*(h-u);if(p<=0||g<=0)return 0;const f=Math.max(a,c),m=Math.max(o,u),y=Math.min(i,d),w=Math.min(l,h),v=Math.max(y-f,0)*Math.max(w-m,0);return v/(p+g-v)}function u(e,t,n){const r=Math.exp(t*n*n);return n<=e?r:0}function d(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}n.d(t,{GP:()=>a,qP:()=>o,pA:()=>i})},48333:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(72657);function s(e,t){const n=[];for(let e=0;e<t.length;e++)t[e]&&n.push(e);const s=(0,r.f)(e,"int32"),a=(0,r.f)([n.length,e.length],"int32");for(let t=0;t<n.length;t++){const r=s.indexToLoc(n[t]),o=t*e.length;a.values.set(r,o)}return a.toTensor()}},85999:(e,t,n)=>{let r;function s(e){r=e}function a(e){if(void 0!==r)return r;if(e||"undefined"!=typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;const t=e.userAgent||e.vendor||("undefined"!=typeof window?window.opera:"");if(!t){const t=e;return t.userAgentData&&t.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function o(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}n.r(t),n.d(t,{isBrowser:()=>o,isMobile:()=>a,mockIsMobile:()=>s})},23926:(e,t,n)=>{n.d(t,{BV:()=>v,wv:()=>w});var r=n(68713),s=n(22885),a=n(55938),o=n(29121),i=n(26151),l=n(64706),c=n(52368),u=n(50223),d=n(4077),h=n(80747),p=n(20569),g=n(59155);function f(e){return null!=e.kernelName}class m{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((e=>e.name))))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class y{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new m}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t];if(await this.initializeBackend(n).success)return void await this.setBackend(n)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t,n=1){return e in this.registryFactory?(l.Z(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:t,asyncInit:n}=this.initializeBackend(e);if(!(n?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new c.Q1(this.backendInstance),!0}setupRegisteredKernels(){(0,i.tr)(this.backendName).forEach((e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(e){(0,i.tr)(e).forEach((t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])}))}initializeBackend(e){const t=this.registryFactory[e];if(null==t)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const n=t.factory();if(!n||n instanceof r.Zu||"function"!=typeof n.then)return this.registry[e]=n,{success:!0,asyncInit:!1};{const t=++this.pendingBackendInitId,r=n.then((n=>!(t<this.pendingBackendInitId||(this.registry[e]=n,this.pendingBackendInit=null,0)))).catch((n=>(t<this.pendingBackendInitId||(this.pendingBackendInit=null,l.Z(`Initialization of backend ${e} failed`),l.Z(n.stack||n.message)),!1)));return this.pendingBackendInit=r,{success:r,asyncInit:!0}}}catch(t){return l.Z(`Initialization of backend ${e} failed`),l.Z(t.stack||t.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority))}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t],{success:r,asyncInit:s}=this.initializeBackend(n);if(s||r)return{name:n,asyncInit:s}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const n=this.state.tensorInfo.get(t),r=n.backend,s=this.readSync(t),a=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,s,n.shape,n.dtype,a),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let n,r=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}return this.scopedRun((()=>this.startScope(r)),(()=>this.endScope(n)),(()=>(n=t(),n instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n)))}scopedRun(e,t,n){e();try{const e=n();return t(),e}catch(e){throw t(),e}}nextTensorId(){return y.nextTensorId++}nextVariableId(){return y.nextVariableId++}clone(e){const t=v.runKernel(o.iJz,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(e=>({x:()=>{const t={x:e};return v.runKernel(o.RFZ,t,{dtype:"float32"})}})),[],{}),t}runKernel(e,t,n){if(null==this.backendName&&this.backend,null==(0,i.pI)(e,this.backendName))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,n){const r=this.backend.numDataIds();let s=0;n.forEach((e=>{s+="complex64"===e.dtype?3:1}));const a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=r-t-s-a;if(o>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${o} data ids) after running '${e}'`)}runKernelFunc(e){let t,n=[];const r=this.isTapeOn(),s=this.state.numBytes,a=this.state.numTensors;let o,l;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const c=f(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(f(e)){const{kernelName:t,inputs:s,attrs:a}=e;null==this.backendName&&this.backend;const c=(0,i.pI)(t,this.backendName);p.hu(null!=c,(()=>`Cannot find registered kernel '${t}' for backend '${this.backendName}'`)),o=()=>{const e=this.backend.numDataIds();l=c.kernelFunc({inputs:s,attrs:a,backend:this.backend});const o=Array.isArray(l)?l:[l];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(t,e,o);const i=o.map((e=>null!=e.rank?e:this.makeTensorFromTensorInfo(e)));if(r){const e=this.getTensorsForGradient(t,s,i);n=this.saveTensorsForBackwardMode(e)}return i}}else{const{forwardFunc:t}=e,s=e=>{r&&(n=e.map((e=>this.keep(this.clone(e)))))};o=()=>{const e=this.backend.numDataIds();l=this.tidy((()=>t(this.backend,s)));const n=Array.isArray(l)?l:[l];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(c,e,n),n}}const{inputs:u,attrs:d}=e,h=f(e)?null:e.backwardsFunc;let g;return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(g=this.profiler.profileKernel(c,u,(()=>o())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(g),t=g.outputs):t=o()})),r&&this.addTapeNode(c,u,t,h,n,d),this.state.profiling&&this.state.activeProfile.kernels.push({name:c,bytesAdded:this.state.numBytes-s,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-a,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(u).map((e=>null!=u[e]?u[e].shape:null)),outputShapes:t.map((e=>e.shape)),kernelTimeMs:g.timeMs,extraInfo:g.extraInfo}),Array.isArray(l)?t:t[0]}saveTensorsForBackwardMode(e){return e.map((e=>this.keep(this.clone(e))))}getTensorsForGradient(e,t,n){const r=(0,i.uk)(e);if(null!=r){const e=r.inputsToSave||[],s=r.outputsToSave||[];let a;r.saveAllInputs?(p.hu(Array.isArray(t),(()=>"saveAllInputs is true, expected inputs to be an array.")),a=Object.keys(t).map((e=>t[e]))):a=e.map((e=>t[e]));const o=n.filter(((e,t)=>s[t]));return a.concat(o)}return[]}makeTensor(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;let s=e;"string"===n&&p.HD(e[0])&&(s=e.map((e=>g.encodeString(e))));const a=r.write(s,t,n),o=new d.es(t,n,a,this.nextTensorId());if(this.trackTensor(o,r),"string"===n){const e=this.state.tensorInfo.get(a),t=(0,p.Ub)(s);this.state.numBytes+=t-e.bytes,e.bytes=t}return o}makeTensorFromDataId(e,t,n,r){const s={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(s,r)}makeTensorFromTensorInfo(e,t){const{dataId:n,shape:r,dtype:s}=e,a=new d.es(r,s,n,this.nextTensorId());return this.trackTensor(a,t),a}makeVariable(e,t=!0,n,r){n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));const s=new d._w(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[s.name])throw new Error(`Variable with name ${s.name} was already registered`);return this.state.registeredVariables[s.name]=s,this.incRef(s,this.backend),s}trackTensor(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*p.bT(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof d._w||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const t=e.size*p.bT(e.dtype);this.state.numBytes-=t}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((e=>e.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const e of this.state.activeProfile.kernels)e.kernelTimeMs=await e.kernelTimeMs,e.extraInfo=await e.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,n,r,s,a){const o={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:s},l=(0,i.uk)(e);null!=l&&(r=l.gradFunc),null!=r&&(o.gradient=e=>(e=e.map(((e,t)=>{if(null==e){const e=n[t],r=p.wT(e.size,e.dtype);return this.makeTensor(r,e.shape,e.dtype)}return e})),r(e.length>1?e:e[0],s,a))),this.state.activeTape.push(o)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=(0,h.Vu)(e),n=new Set(t.map((e=>e.id)));for(let e=0;e<this.state.activeScope.track.length;e++){const t=this.state.activeScope.track[e];t.kept||n.has(t.id)||t.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach((e=>{e.kept||e.scopeId!==r.id||this.track(e)}))}gradients(e,t,n,r=!1){if(p.hu(t.length>0,(()=>"gradients() received an empty list of xs.")),null!=n&&"float32"!==n.dtype)throw new Error(`dy must have 'float32' dtype, but has '${n.dtype}'`);const s=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",e)));p.hu(s instanceof d.es,(()=>"The result y returned by f() must be a tensor."));const a=(0,u.C)(this.state.activeTape,t,s);if(!r&&0===a.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const e={};e[s.id]=null==n?function(e){const t=(0,p.p8)((0,p.NA)(e),"float32");return v.makeTensor(t,e,"float32")}(s.shape):n,(0,u._)(e,a,(e=>this.tidy(e)),S);const r=t.map((t=>e[t.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((e=>{for(const t of e.saved)t.dispose()})),this.state.activeTape=null),{value:s,grads:r}}))}customGrad(e){return p.hu(p.mf(e),(()=>"The f passed in customGrad(f) must be a function.")),(...t)=>{let n;p.hu(t.every((e=>e instanceof d.es)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const r={};return t.forEach(((e,t)=>{r[t]=e})),this.runKernelFunc({forwardFunc:(r,s)=>(n=e(...t,s),p.hu(n.value instanceof d.es,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),p.hu(p.mf(n.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),n.value),backwardsFunc:(e,r)=>{const s=n.gradFunc(e,r),a=Array.isArray(s)?s:[s];p.hu(a.length===t.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),p.hu(a.every((e=>e instanceof d.es)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const o={};return a.forEach(((e,t)=>{o[t]=()=>e})),o},inputs:r})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}async time(e){const t=(0,g.now)(),n=await this.backend.time(e);return n.wallMs=(0,g.now)()-t,n}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new m;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function w(){const e=(0,a.D)();if(null==e._tfengine){const t=new s.qA(e);e._tfengine=new y(t)}return(0,s.iG)(e._tfengine.ENV),(0,d.Vi)((()=>e._tfengine)),e._tfengine}y.nextTensorId=0,y.nextVariableId=0;const v=w();function S(e,t){const n={a:e,b:t};return v.runKernel(o.mm_,n)}},22885:(e,t,n)=>{n.d(t,{OB:()=>i,iG:()=>c,qA:()=>a});var r=n(20569);const s="tfjsflags";class a{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=o,this.populateURLFlags()}setPlatform(e,t){null!=this.platform&&(i().getBool("IS_TEST")||i().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=t}registerFlag(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){const t=this.urlFlags[e];i().getBool("IS_TEST")||i().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${t}.`),this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if((0,r.tI)(t))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(void 0===this.global||void 0===this.global.location||void 0===this.global.location.search)return;const e=this.getQueryParams(this.global.location.search);s in e&&e[s].split(",").forEach((e=>{const[t,n]=e.split(":");this.urlFlags[t]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if(""+ +t===t)return+t;throw new Error(`Could not parse value flag value ${t} for flag ${e}.`)}(t,n)}))}}function o(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,((e,...n)=>(function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,n[0],n[1]),n.join("=")))),t}function i(){return l}let l=null;function c(e){l=e}},79998:(e,t,n)=>{n(23926);var r=n(85999);const s=(0,n(22885).OB)();s.registerFlag("DEBUG",(()=>!1),(e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),s.registerFlag("IS_BROWSER",(()=>r.isBrowser())),s.registerFlag("IS_NODE",(()=>"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node)),s.registerFlag("IS_CHROME",(()=>"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),s.registerFlag("PROD",(()=>!1)),s.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>s.getBool("DEBUG"))),s.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),s.registerFlag("IS_TEST",(()=>!1)),s.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(()=>!0)),s.registerFlag("WRAP_TO_IMAGEBITMAP",(()=>!1)),s.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",(()=>!1)),s.registerFlag("USE_SETTIMEOUTCUSTOM",(()=>!1))},55938:(e,t,n)=>{let r;function s(){if(null==r){let e;if("undefined"!=typeof window)e=window;else if(void 0!==n.g)e=n.g;else if("undefined"!=typeof process)e=process;else{if("undefined"==typeof self)throw new Error("Could not find a global object");e=self}r=e}return r}function a(e,t){const n=function(){const e=s();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);{const r=t();return n.set(e,r),n.get(e)}}n.d(t,{D:()=>s,R:()=>a})},4368:(e,t,n)=>{n.d(t,{B9:()=>u,Cn:()=>d,N_:()=>h,SR:()=>i,jq:()=>p,lu:()=>c,sq:()=>l,y3:()=>g});var r=n(23926),s=n(22885),a=n(4077),o=n(80747);function i(){return r.BV}function l(){return r.BV.memory()}function c(e,t){return r.BV.tidy(e,t)}function u(e){(0,o.Vu)(e).forEach((e=>e.dispose()))}function d(e){return r.BV.keep(e)}function h(){return r.BV.backendName}function p(e,t,n=1){return r.BV.registerBackend(e,t,n)}function g(){return r.BV.backend}(0,a.FZ)((function(e){(0,s.OB)().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}))},30633:(e,t,n)=>{n.d(t,{cb:()=>i,pn:()=>o});var r=n(23926),s=n(4077),a=n(20569);function o(e,t){a.hu(a.mf(e),(()=>"The f passed in variableGrads(f) must be a function")),a.hu(null==t||Array.isArray(t)&&t.every((e=>e instanceof s._w)),(()=>"The varList passed in variableGrads(f, varList) must be an array of variables"));const n=null!=t;if(!n){t=[];for(const e in r.BV.registeredVariables)t.push(r.BV.registeredVariables[e])}const o=n?t.filter((e=>!e.trainable)):null,i=t.length;t=t.filter((e=>e.trainable)),a.hu(t.length>0,(()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${i} variables is trainable.`));const{value:l,grads:c}=r.BV.gradients(e,t,null,!0);a.hu(c.some((e=>null!=e)),(()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize().")),a.hu(0===l.rank,(()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${l.rank} tensor`));const u={};return t.forEach(((e,t)=>{null!=c[t]&&(u[e.name]=c[t])})),null!=o&&o.forEach((e=>u[e.name]=null)),{value:l,grads:u}}function i(e){return r.BV.customGrad(e)}},32259:(e,t,n)=>{n.d(t,{Q:()=>i});var r=n(29121),s=n(62271),a=n(24841),o=n(71901);const i={kernelName:r.SYM,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,a.d)(e,(0,o.N)((0,s.p)(n,"float32"),-1))}}}},35589:(e,t,n)=>{n.d(t,{K:()=>d});var r=n(29121),s=n(62271),a=n(41274),o=n(17370),i=n(99494),l=n(13261),c=n(50248),u=n(70827);const d={kernelName:r.VGw,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=(0,c.h)((0,s.p)(n,"float32")),r=(0,l._)((0,u.l)((0,i.i)(1),t));return(0,o.W)((0,a.h)(e,r))}}}}},10629:(e,t,n)=>{n.d(t,{M:()=>c});var r=n(29121),s=n(62271),a=n(41274),o=n(13261),i=n(50248),l=n(70827);const c={kernelName:r.SpW,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=(0,o._)((0,l.l)((0,i.h)((0,s.p)(n,"float32")),1));return(0,a.h)(e,t)}}}}},42724:(e,t,n)=>{n.d(t,{C:()=>r});const r={kernelName:n(29121).Xze,saveAllInputs:!0,gradFunc:(e,t)=>{const n={};return t.forEach(((t,r)=>{n[r]=()=>e.clone()})),n}}},18707:(e,t,n)=>{n.d(t,{m:()=>i});var r=n(29121),s=n(72200),a=n(4968),o=n(15475);const i={kernelName:r.mm_,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,i=s.assertAndGetBroadcastShape(n.shape,r.shape);return{a:()=>{let t=e;const r=s.getReductionAxes(n.shape,i);return r.length>0&&(t=(0,o.S)(t,r)),(0,a.X)(t,n.shape)},b:()=>{let t=e;const n=s.getReductionAxes(r.shape,i);return n.length>0&&(t=(0,o.S)(t,n)),(0,a.X)(t,r.shape)}}}}},64017:(e,t,n)=>{n.d(t,{C:()=>a});var r=n(29121),s=n(6577);const a={kernelName:r.sJF,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,s.P)(n)}}}},67851:(e,t,n)=>{n.d(t,{Q:()=>a});var r=n(29121),s=n(6577);const a={kernelName:r.aJk,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,s.P)(n)}}}},20080:(e,t,n)=>{n.d(t,{V:()=>u});var r=n(29121),s=n(62271),a=n(41274),o=n(99494),i=n(13261),l=n(50248),c=n(70827);const u={kernelName:r.M2y,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,a.h)(e,(0,i._)((0,c.l)((0,o.i)(1),(0,l.h)((0,s.p)(n,"float32")))))}}}},11669:(e,t,n)=>{n.d(t,{f:()=>u});var r=n(29121),s=n(56407),a=n(62271),o=n(41274),i=n(99494),l=n(13261),c=n(50248);const u={kernelName:r.qw7,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=(0,l._)((0,s.I)((0,i.i)(1),(0,c.h)((0,a.p)(n,"float32"))));return(0,o.h)(e,t)}}}}},55535:(e,t,n)=>{n.d(t,{H:()=>h});var r=n(29121),s=n(56407),a=n(72200),o=n(41274),i=n(24841),l=n(17370),c=n(4968),u=n(50248),d=n(15475);const h={kernelName:r.QCc,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,h=(0,a.assertAndGetBroadcastShape)(n.shape,r.shape);return{a:()=>{const t=(0,s.I)((0,u.h)(n),(0,u.h)(r));let l=(0,i.d)(e,(0,o.h)(r,t));const p=(0,a.getReductionAxes)(n.shape,h);return p.length>0&&(l=(0,d.S)(l,p)),(0,c.X)(l,n.shape)},b:()=>{const t=(0,s.I)((0,u.h)(n),(0,u.h)(r));let p=(0,l.W)((0,i.d)(e,(0,o.h)(n,t)));const g=(0,a.getReductionAxes)(r.shape,h);return g.length>0&&(p=(0,d.S)(p,g)),(0,c.X)(p,r.shape)}}}}},23755:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(29121),s=n(56407),a=n(62271),o=n(41274),i=n(50248);const l={kernelName:r.jMg,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,o.h)(e,(0,s.I)((0,i.h)((0,a.p)(n,"float32")),1))}}}},87242:(e,t,n)=>{n.d(t,{q:()=>c});var r=n(29121),s=n(62271),a=n(41274),o=n(50248),i=n(70827),l=n(99494);const c={kernelName:r.Oyi,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,a.h)(e,(0,i.l)((0,l.i)(1),(0,o.h)((0,s.p)(n,"float32"))))}}}},92153:(e,t,n)=>{n.d(t,{Y:()=>a});var r=n(29121),s=n(77992);const a={kernelName:r._k9,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:a,strides:o,pad:i,dimRoundingMode:l}=n;return{x:()=>(0,s.f)(e,r,a,o,i,l)}}}},24254:(e,t,n)=>{n.d(t,{v:()=>a});var r=n(29121),s=n(94162);const a={kernelName:r.JhU,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:a,strides:o,pad:i}=n;return{x:()=>(0,s.W)(e,r,a,o,i)}}}},9742:(e,t,n)=>{n.d(t,{C:()=>a});var r=n(29121),s=n(28687);const a={kernelName:r.XLW,inputsToSave:["a","b"],gradFunc:(e,t,n)=>{const[r,a]=t,{transposeA:o,transposeB:i}=n;return o||i?!o&&i?{a:()=>(0,s.O)(e,a,!1,!1),b:()=>(0,s.O)(e,r,!0,!1)}:o&&!i?{a:()=>(0,s.O)(a,e,!1,!0),b:()=>(0,s.O)(r,e,!1,!1)}:{a:()=>(0,s.O)(a,e,!0,!0),b:()=>(0,s.O)(e,r,!0,!0)}:{a:()=>(0,s.O)(e,a,!1,!0),b:()=>(0,s.O)(r,e,!0,!1)}}}},3477:(e,t,n)=>{n.d(t,{s:()=>a});var r=n(29121),s=n(27918);const a={kernelName:r.zws,gradFunc:(e,t,n)=>{const{blockShape:r,crops:a}=n;return{x:()=>(0,s.f)(e,r,a)}}}},27914:(e,t,n)=>{n.d(t,{O:()=>a});var r=n(29121),s=n(15475);const a={kernelName:r.Ly9,gradFunc:(e,t,n)=>{const r=n,a=r.inputShape,o=r.shape,i=Array.from(o);for(let e=a.length-1;e>=0;e--)if(a[e]===o[e])i[e]=1;else if(1!==a[e])throw new Error(`broadcastTo(): [${a}] cannot be broadcast to [${o}].`);const l=[];for(let e=0;e<i.length;e++)i[e]>1&&l.push(e);return{x:()=>(0,s.S)(e,l,!0)}}}},42680:(e,t,n)=>{n.d(t,{D:()=>r});const r={kernelName:n(29121).RFZ,gradFunc:e=>({x:()=>e.clone()})}},49467:(e,t,n)=>{n.d(t,{t:()=>a});var r=n(29121),s=n(6577);const a={kernelName:r.gJX,gradFunc:e=>({x:()=>(0,s.P)(e)})}},57777:(e,t,n)=>{n.d(t,{v:()=>c});var r=n(29121),s=n(17630),a=n(50624),o=n(2856),i=n(95912),l=n(6577);const c={kernelName:r.xnO,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{clipValueMin:c,clipValueMax:u}=n;return{x:()=>(0,i.a)((0,o.H)((0,s.b)(r,c),(0,a.z)(r,u)),e,(0,l.P)(e))}}}},38323:(e,t,n)=>{n.d(t,{Q:()=>a});var r=n(29121),s=n(32259);const a={kernelName:r.yj2,inputsToSave:["x"],gradFunc:s.Q.gradFunc}},54565:(e,t,n)=>{n.d(t,{x:()=>o});var r=n(29121),s=n(28644),a=n(20569);const o={kernelName:r.Eh3,saveAllInputs:!0,gradFunc:(e,t,n)=>{const r=t.map((e=>e.shape)),{axis:o}=n,i=(0,a.EC)(o,t[0].shape)[0],l=r.map((e=>e[i]));return(0,s.V)(e,l,i).map((e=>()=>e))}}},9920:(e,t,n)=>{n.d(t,{F:()=>o});var r=n(29121),s=n(64794),a=n(36013);const o={kernelName:r.wm,inputsToSave:["dy","filter"],gradFunc:(e,t,n)=>{const[r,o]=t,{strides:i,pad:l,dataFormat:c,dimRoundingMode:u}=n;return{dy:()=>(0,s.T)(e,o,i,l,c,1,u),filter:()=>(0,a.p)(e,r,o.shape,i,l,c,u)}}}},45396:(e,t,n)=>{n.d(t,{S:()=>l});var r=n(29121),s=n(36013),a=n(39832),o=n(2582),i=n(20569);const l={kernelName:r.mhS,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[r,l]=t,{dilations:c,strides:u,pad:d,dataFormat:h}=n;return i.hu(o.I0(c),(()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${c}'`)),{x:()=>(0,a._)(r.shape,e,l,u,d,h),filter:()=>(0,s.p)(r,e,l.shape,u,d,h)}}}},77355:(e,t,n)=>{n.d(t,{w:()=>l});var r=n(29121),s=n(3365),a=n(97594),o=n(2582),i=n(20569);const l={kernelName:r.x12,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:l,pad:c}=n;i.hu((0,o.I0)(r),(()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${r}'`));const[u,d]=t;return{x:()=>(0,a._)(u.shape,e,d,l,c),filter:()=>(0,s.s)(u,e,d.shape,l,c)}}}},77528:(e,t,n)=>{n.d(t,{L:()=>l});var r=n(29121),s=n(62271),a=n(24841),o=n(17370),i=n(99331);const l={kernelName:r.mc4,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,a.d)((0,o.W)((0,i.O)((0,s.p)(n,"float32"))),e)}}}},61763:(e,t,n)=>{n.d(t,{a:()=>i});var r=n(29121),s=n(62271),a=n(24841),o=n(83254);const i={kernelName:r.TR1,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,a.d)((0,o.R)((0,s.p)(n,"float32")),e)}}}},12090:(e,t,n)=>{n.d(t,{g:()=>i});var r=n(29121),s=n(83591),a=n(37405),o=n(89065);const i={kernelName:r.iHb,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:i,exclusive:l,reverse:c}=n;return{x:()=>{const t=(0,s.Q3)([i],r.rank);let n=(0,a.z)(e,i,l,!c);return null!=t&&(n=(0,o.p)(n,t)),n}}}}},303:(e,t,n)=>{n.d(t,{v:()=>l});var r=n(29121),s=n(2582),a=n(88098),o=n(54375),i=n(20569);const l={kernelName:r.cie,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:l,pad:c,dimRoundingMode:u}=n,d=null==r?[1,1]:r;i.hu(s.I0(d),(()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${d}'`));const[h,p]=t;return i.hu(4===h.rank,(()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${h.rank}.`)),i.hu(4===p.rank,(()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${p.rank}.`)),i.hu(h.shape[3]===p.shape[2],(()=>`Error in gradient of depthwiseConv2d: number of input channels (${h.shape[3]}) must match the inChannels dimension in filter ${p.shape[2]}.`)),i.hu(s.jT(l,d),(()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${l} and dilations '${d}'.`)),s.m("depthwiseConv2d",c,u),{x:()=>(0,o.v)(h.shape,e,p,l,c,d,u),filter:()=>(0,a.z)(h,e,p.shape,l,c,d,u)}}}},62207:(e,t,n)=>{n.d(t,{T:()=>a});var r=n(23926),s=n(29121);const a={kernelName:s.p4S,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[a,o]=t,i={x:a,filter:o,dy:e},l={x:a,filter:o,dy:e};return{x:()=>r.BV.runKernel(s.ekb,i,n),filter:()=>r.BV.runKernel(s.Vn9,l,n)}}}},29479:(e,t,n)=>{n.d(t,{q:()=>a});var r=n(23926),s=n(29121);const a={kernelName:s.SX0,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t,a={dy:e,y:n};return{x:()=>r.BV.runKernel(s.HEU,a)}}}},82221:(e,t,n)=>{n.d(t,{j:()=>l});var r=n(29121),s=n(44842),a=n(24841),o=n(17370),i=n(50248);const l={kernelName:r.Omj,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,r=(0,a.d)((0,s.Q)((0,o.W)((0,i.h)(n))),2/Math.sqrt(Math.PI));return{x:()=>(0,a.d)(e,r)}}}},15833:(e,t,n)=>{n.d(t,{K:()=>a});var r=n(29121),s=n(24841);const a={kernelName:r.NEP,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,s.d)(e,n)}}}},45920:(e,t,n)=>{n.d(t,{B:()=>a});var r=n(29121),s=n(4968);const a={kernelName:r.YFo,inputsToSave:["input"],gradFunc:(e,t)=>{const[n]=t;return{input:()=>(0,s.X)(e,n.shape)}}}},72087:(e,t,n)=>{n.d(t,{g:()=>o});var r=n(29121),s=n(44842),a=n(24841);const o={kernelName:r.Y0y,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,a.d)(e,(0,s.Q)(n))}}}},18284:(e,t,n)=>{n.d(t,{T:()=>h});var r=n(29121),s=n(72200),a=n(62271),o=n(41274),i=n(24841),l=n(17370),c=n(4968),u=n(50248),d=n(15475);const h={kernelName:r.jeX,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,h=(0,s.assertAndGetBroadcastShape)(n.shape,r.shape);return{a:()=>{const t=(0,o.h)(e,(0,a.p)(r,"float32")),i=(0,s.getReductionAxes)(n.shape,h);return i.length>0?(0,c.X)((0,d.S)(t,i),n.shape):t},b:()=>{let t=(0,i.d)(e,(0,a.p)(n,"float32"));const p=(0,s.getReductionAxes)(r.shape,h);p.length>0&&(t=(0,c.X)((0,d.S)(t,p),r.shape));const g=(0,u.h)(r);return(0,l.W)((0,o.h)(t,(0,a.p)(g,"float32")))}}}}},30782:(e,t,n)=>{n.d(t,{G:()=>a});var r=n(29121),s=n(6577);const a={kernelName:r.OR,gradFunc:e=>({x:()=>(0,s.P)(e)})}},38905:(e,t,n)=>{n.d(t,{c:()=>p});var r=n(29121),s=n(56407),a=n(72200),o=n(24841),i=n(4968),l=n(32634),c=n(99494),u=n(70827),d=n(15475),h=n(47501);const p={kernelName:r.sHE,inputsToSave:["x","mean","variance","scale"],gradFunc:(e,t,n)=>{const{varianceEpsilon:r}=n,[p,g,f,m]=t,y=null==m?(0,c.i)(1):m,w=(0,a.getReductionAxes)(g.shape,p.shape),v=[];if(1===g.rank){for(let e=0;e<p.shape.length-1;++e)v.push(p.shape[e]);v.push(1)}const S=(0,u.l)(p,g),k=(0,o.d)(e,y),b=(0,l.b)((0,s.I)(f,(0,c.i)(r))),x=(0,o.d)((0,o.d)((0,o.d)(b,b),b),(0,c.i)(-.5));return{x:()=>1===g.rank?(0,i.X)((0,o.d)((0,o.d)(e,(0,h.G)((0,i.X)(b,[1,1,1,g.shape[0]]),v)),y),p.shape):(0,i.X)((0,o.d)((0,o.d)(e,b),y),p.shape),mean:()=>{let e=(0,o.d)((0,o.d)(b,(0,c.i)(-1)),k);return 1===g.rank&&(e=(0,d.S)(e,w)),(0,i.X)(e,g.shape)},variance:()=>{let e=(0,o.d)((0,o.d)(x,S),k);return 1===g.rank&&(e=(0,d.S)(e,w)),(0,i.X)(e,g.shape)},scale:()=>{const t=(0,o.d)(S,b);let n=(0,o.d)(e,t);return 1===g.rank&&(n=(0,d.S)(n,w)),(0,i.X)(n,g.shape)},offset:()=>{let t=e;return 1===g.rank&&(t=(0,d.S)(t,w)),(0,i.X)(t,g.shape)}}}}},66568:(e,t,n)=>{n.d(t,{t:()=>c});var r=n(29121),s=n(83591),a=n(4968),o=n(89065),i=n(98749),l=n(20569);const c={kernelName:r.qi_,inputsToSave:["x","indices"],gradFunc:(e,t,n)=>{const[r,c]=t,{axis:h}=n,p=(0,l.EC)(h,r.shape)[0];return{x:()=>{const t=r.shape,n=c.size,l=t.slice(0,p),g=l.length,f=t.slice(h,t.length).slice(1),m=f.length,y=u(0,g),w=u(g+1,g+1+m),v=d([l,[n],f]),S=(0,a.X)(e,v),k=(0,a.X)(c,[n]),b=d([[g],y,w]),x=(0,o.p)(S,b);let F=(0,i.p)(x,k,r.shape[p]);const T=(0,s.LJ)(b);return F=(0,o.p)(F,T),F},indices:()=>c}}};function u(e,t){const n=[];for(let r=e;r<t;++r)n.push(r);return n}function d(e){const t=[];for(let n=0;n<e.length;++n)for(let r=0;r<e[n].length;++r)t.push(e[n][r]);return t}},3258:(e,t,n)=>{n.d(t,{i:()=>a});var r=n(29121),s=n(6577);const a={kernelName:r.Acj,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>(0,s.P)(n),b:()=>(0,s.P)(r)}}}},91603:(e,t,n)=>{n.d(t,{w:()=>a});var r=n(29121),s=n(62271);const a={kernelName:r.iJz,gradFunc:e=>({x:()=>(0,s.p)(e,"float32")})}},13079:(e,t,n)=>{n.d(t,{Y:()=>a});var r=n(29121),s=n(6577);const a={kernelName:r.avt,gradFunc:e=>({x:()=>(0,s.P)(e)})}},8474:(e,t,n)=>{n.d(t,{i:()=>a});var r=n(29121),s=n(6577);const a={kernelName:r.iWB,gradFunc:e=>({x:()=>(0,s.P)(e)})}},48971:(e,t,n)=>{n.d(t,{W:()=>a});var r=n(29121),s=n(6577);const a={kernelName:r.r7n,gradFunc:e=>({x:()=>(0,s.P)(e)})}},54488:(e,t,n)=>{n.d(t,{e:()=>a});var r=n(29121),s=n(69369);const a={kernelName:r.eZ0,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,a]=t,{depthRadius:o,bias:i,alpha:l,beta:c}=n;return{x:()=>(0,s.Y)(r,a,e,o,i,l,c)}}}},78412:(e,t,n)=>{n.d(t,{T:()=>i});var r=n(29121),s=n(20636),a=n(24841),o=n(95912);const i={kernelName:r.J$2,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{alpha:i}=n,l=(0,s.p)(r,0);return{x:()=>(0,o.a)(l,e,(0,a.d)(e,i))}}}},74937:(e,t,n)=>{n.d(t,{P:()=>o});var r=n(29121),s=n(56407),a=n(41274);const o={kernelName:r.kU,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,a.h)(e,(0,s.I)(n,1))}}}},7759:(e,t,n)=>{n.d(t,{K:()=>l});var r=n(29121),s=n(44842),a=n(24841),o=n(70827),i=n(15475);const l={kernelName:r.qCd,inputsToSave:[],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r]=t,{axis:l}=n;return{logits:()=>{const t=(0,s.Q)(r);return(0,o.l)(e,(0,a.d)((0,i.S)(e,l,!0),t))}}}}},72486:(e,t,n)=>{n.d(t,{X:()=>o});var r=n(29121),s=n(62271),a=n(41274);const o={kernelName:r.ZbH,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,a.h)(e,(0,s.p)(n,"float32"))}}}},7400:(e,t,n)=>{n.d(t,{J:()=>a});var r=n(29121),s=n(35080);const a={kernelName:r.OAf,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,a]=t,{filterSize:o,strides:i,pad:l,dimRoundingMode:c}=n;return{x:()=>(0,s.x)(e,r,a,o,i,l,c)}}}},32282:(e,t,n)=>{n.d(t,{f:()=>a});var r=n(29121),s=n(71708);const a={kernelName:r.mTV,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,a]=t,{filterSize:o,strides:i,pad:l}=n;return{x:()=>(0,s.z)(e,r,a,o,i,l)}}}},62850:(e,t,n)=>{n.d(t,{J:()=>o});var r=n(29121),s=n(20569),a=n(79363);const o={kernelName:r.YoZ,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const r=n,{reductionIndices:o}=r,i=t[0],l=t[1],c=s.EC(o,i.shape),u=(0,a.c)(e,l,i,c);return{x:()=>u.x()}}}},25241:(e,t,n)=>{n.d(t,{R:()=>l});var r=n(29121),s=n(62271),a=n(17630),o=n(86573),i=n(24841);const l={kernelName:r.BMI,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>(0,i.d)(e,(0,s.p)((0,a.b)(n,r),"float32")),b:()=>(0,i.d)(e,(0,s.p)((0,o.d)(n,r),"float32"))}}}},37482:(e,t,n)=>{n.d(t,{m:()=>u});var r=n(29121),s=n(83591),a=n(41274),o=n(24841),i=n(44917),l=n(4968),c=n(20569);const u={kernelName:r.q2K,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:u}=n,d=c.EC(u,r.shape),h=(0,s.kz)(r.shape,d)[1],p=c.NA(h);return{x:()=>{const t=r.shape.slice();d.forEach((e=>{t[e]=1}));const n=(0,l.X)(e,t);return(0,a.h)((0,o.d)(n,(0,i.i)(r.shape,"float32")),p)}}}}},22735:(e,t,n)=>{n.d(t,{j:()=>o});var r=n(29121),s=n(20569),a=n(79363);const o={kernelName:r.c17,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const r=n,{axis:o}=r,[i,l]=t,c=s.EC(o,i.shape),u=(0,a.c)(e,l,i,c);return{x:()=>u.x()}}}},50629:(e,t,n)=>{n.d(t,{c:()=>l});var r=n(29121),s=n(62271),a=n(20636),o=n(50624),i=n(24841);const l={kernelName:r.q8u,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>(0,i.d)(e,(0,s.p)((0,o.z)(n,r),"float32")),b:()=>(0,i.d)(e,(0,s.p)((0,a.p)(n,r),"float32"))}}}},48594:(e,t,n)=>{n.d(t,{i:()=>a});var r=n(29121),s=n(22676);const a={kernelName:r.jQs,inputsToSave:["x"],gradFunc:(e,t,n)=>{const r=t[0],{paddings:a}=n,o=a.map((e=>e[0]));return{x:()=>(0,s.t)(e,o,r.shape)}}}},74812:(e,t,n)=>{n.d(t,{E:()=>d});var r=n(29121),s=n(72200),a=n(41274),o=n(26943),i=n(24841),l=n(17370),c=n(4968),u=n(15475);const d={kernelName:r.Vbg,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,d=(0,s.assertAndGetBroadcastShape)(n.shape,r.shape);return{a:()=>{const t=(0,s.getReductionAxes)(n.shape,d);return t.length>0?(0,c.X)((0,u.S)(e,t),n.shape):e},b:()=>{const t=(0,i.d)(e,(0,l.W)((0,o.G)((0,a.h)(n,r)))),h=(0,s.getReductionAxes)(r.shape,d);return h.length>0?(0,c.X)((0,u.S)(t,h),r.shape):t}}}}},75508:(e,t,n)=>{n.d(t,{q:()=>c});var r=n(29121),s=n(72200),a=n(62271),o=n(24841),i=n(4968),l=n(15475);const c={kernelName:r.wYn,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,c=(0,s.assertAndGetBroadcastShape)(n.shape,r.shape);return{a:()=>{const t=(0,o.d)(e,(0,a.p)(r,"float32")),u=(0,s.getReductionAxes)(n.shape,c);return u.length>0?(0,i.X)((0,l.S)(t,u),n.shape):t},b:()=>{const t=(0,o.d)(e,(0,a.p)(n,"float32")),u=(0,s.getReductionAxes)(r.shape,c);return u.length>0?(0,i.X)((0,l.S)(t,u),r.shape):t}}}}},26447:(e,t,n)=>{n.d(t,{R:()=>a});var r=n(29121),s=n(17370);const a={kernelName:r.kuV,gradFunc:e=>({x:()=>(0,s.W)(e)})}},30154:(e,t,n)=>{n.d(t,{p:()=>a});var r=n(29121),s=n(59640);const a={kernelName:r.we_,inputsToSave:["indices"],gradFunc:(e,t)=>{const n=t[0];return{indices:()=>(0,s.l)(n.shape,"float32")}}}},63668:(e,t,n)=>{n.d(t,{N:()=>a});var r=n(29121),s=n(6577);const a={kernelName:r.qWM,gradFunc:e=>({x:()=>(0,s.P)(e)})}},40436:(e,t,n)=>{n.d(t,{n:()=>a});var r=n(29121),s=n(24136);const a={kernelName:r.QiL,saveAllInputs:!0,gradFunc:(e,t,n)=>{const{axis:r}=n;return(0,s.H)(e,r).map((e=>()=>e))}}},99:(e,t,n)=>{n.d(t,{G:()=>a});var r=n(29121),s=n(22676);const a={kernelName:r.lyA,inputsToSave:["x"],gradFunc:(e,t,n)=>{const r=t[0],{paddings:a}=n,o=a.map((e=>e[0]));return{x:()=>(0,s.t)(e,o,r.shape)}}}},45370:(e,t,n)=>{n.d(t,{i:()=>m});var r=n(29121),s=n(72200),a=n(62271),o=n(20636),i=n(82597),l=n(24841),c=n(33453),u=n(4968),d=n(99494),h=n(70827),p=n(15475),g=n(95912),f=n(6577);const m={kernelName:r.pe_,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(e,t)=>{const[n,r,m]=t,y=n,w=r,v=s.assertAndGetBroadcastShape(y.shape,w.shape);return{a:()=>{const t=(0,a.p)(w,"float32");let n=(0,l.d)(e,(0,l.d)(t,(0,c.s)(y,(0,h.l)(t,(0,d.i)(1)))));const r=s.getReductionAxes(y.shape,v);return r.length>0&&(n=(0,p.S)(n,r)),(0,u.X)(n,y.shape)},b:()=>{const t=(0,o.p)(y,0),n=(0,g.a)(t,(0,i.c)(y),(0,f.P)(y));let r=(0,l.d)(e,(0,l.d)(m,n));const a=s.getReductionAxes(w.shape,v);return a.length>0&&(r=(0,p.S)(r,a)),(0,u.X)(r,w.shape)}}}}},96587:(e,t,n)=>{n.d(t,{d:()=>d});var r=n(29121),s=n(72200),a=n(20636),o=n(24841),i=n(4968),l=n(15475),c=n(95912),u=n(6577);const d={kernelName:r.o0g,inputsToSave:["x","alpha"],gradFunc:(e,t)=>{const[n,r]=t,d=(0,a.p)(n,0);return{x:()=>(0,c.a)(d,e,(0,o.d)(e,r)),alpha:()=>{let t=(0,c.a)(d,(0,u.P)(e),(0,o.d)(e,n));const a=(0,s.getReductionAxes)(r.shape,e.shape);return a.length>0&&(t=(0,l.S)(t,a)),(0,i.X)(t,r.shape)}}}}},18030:(e,t,n)=>{n.d(t,{X:()=>c});var r=n(83591),s=n(29121),a=n(9640),o=n(24841),i=n(4968),l=n(89065);const c={kernelName:s.DlI,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[s]=t,{axis:c}=n;let u=[];return u=null==c?s.shape.map(((e,t)=>t)):"number"==typeof c?[c]:c,{x:()=>function(e,t,n){const s=e.shape.length,c=s-n.length,u=r.Q3(n,s);let d=e;null!=u&&(d=(0,l.p)(e,u));const h=d.shape.slice(),p=h.splice(s-n.length,n.length).reduce(((e,t)=>e*t),1);h.push(p);let g=function(e,t,n){const r=e.shape.slice();r[n]=1;const s=(0,i.X)(t,r),l=(0,a.$)(e,n,!0,!1),c=(0,a.$)(e,n,!0,!0),u=(0,o.d)(l,c);return(0,o.d)(s,u)}(d.reshape(h),t,c);if(g=g.reshape(d.shape),null!=u){const e=r.LJ(u);g=(0,l.p)(g,e)}return g}(s,e,u)}}}},91766:(e,t,n)=>{n.d(t,{Z:()=>h});var r=n(29121),s=n(72200),a=n(62271),o=n(41274),i=n(24841),l=n(17370),c=n(4968),u=n(50248),d=n(15475);const h={kernelName:r.oHH,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,h=s.assertAndGetBroadcastShape(n.shape,r.shape);return{a:()=>{const t=(0,o.h)(e,(0,a.p)(r,"float32")),i=s.getReductionAxes(n.shape,h);return i.length>0?(0,c.X)((0,d.S)(t,i),n.shape):t},b:()=>{let t=(0,i.d)(e,(0,a.p)(n,"float32"));const p=s.getReductionAxes(r.shape,h);p.length>0&&(t=(0,c.X)((0,d.S)(t,p),r.shape));const g=(0,u.h)(r);return(0,l.W)((0,o.h)(t,(0,a.p)(g,"float32")))}}}}},60006:(e,t,n)=>{n.d(t,{a:()=>i});var r=n(29121),s=n(41274),a=n(17370),o=n(50248);const i={kernelName:r.$HU,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,s.h)(e,(0,a.W)((0,o.h)(n)))}}}},76179:(e,t,n)=>{n.d(t,{d:()=>l});var r=n(29121),s=n(62271),a=n(50624),o=n(24841),i=n(71901);const l={kernelName:r.SbG,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,r=(0,o.d)((0,a.z)(n,6),(0,i.N)(n));return{x:()=>(0,o.d)(e,(0,s.p)(r,"float32"))}}}},15938:(e,t,n)=>{n.d(t,{T:()=>i});var r=n(29121),s=n(62271),a=n(24841),o=n(71901);const i={kernelName:r.qkr,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,a.d)(e,(0,s.p)((0,o.N)(n),"float32"))}}}},15997:(e,t,n)=>{n.d(t,{H:()=>a});var r=n(29121),s=n(4968);const a={kernelName:r.HZH,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,s.X)(e,n.shape)}}}},55253:(e,t,n)=>{n.d(t,{G:()=>a});var r=n(23926),s=n(29121);const a={kernelName:s._Yw,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[a]=t,o={dy:e,images:a};return{images:()=>r.BV.runKernel(s.zbQ,o,n)}}}},84998:(e,t,n)=>{n.d(t,{S:()=>a});var r=n(23926),s=n(29121);const a={kernelName:s.dpD,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[a]=t,o={dy:e,images:a};return{images:()=>r.BV.runKernel(s.Hmb,o,n)}}}},95906:(e,t,n)=>{n.d(t,{T:()=>o});var r=n(29121),s=n(57486),a=n(20569);const o={kernelName:r.mKl,gradFunc:(e,t,n)=>{const{dims:r}=n,o=(0,a.EC)(r,e.shape);return{x:()=>(0,s.G)(e,o)}}}},30027:(e,t,n)=>{n.d(t,{O:()=>a});var r=n(29121),s=n(6577);const a={kernelName:r.e07,gradFunc:e=>({x:()=>(0,s.P)(e)})}},37699:(e,t,n)=>{n.d(t,{C:()=>l});var r=n(29121),s=n(41274),a=n(24841),o=n(17370),i=n(33453);const l={kernelName:r.bV0,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,o.W)((0,s.h)(e,(0,a.d)((0,i.s)(n,1.5),2)))}}}},7504:(e,t,n)=>{n.d(t,{X:()=>l});var r=n(29121),s=n(62271),a=n(38651),o=n(24841),i=n(6577);const l={kernelName:r.PhF,inputsToSave:["condition"],gradFunc:(e,t)=>{const[n]=t;return{condition:()=>(0,s.p)((0,i.P)(n),"float32"),t:()=>(0,o.d)(e,(0,s.p)(n,e.dtype)),e:()=>(0,o.d)(e,(0,s.p)((0,a.h)(n),e.dtype))}}}},82606:(e,t,n)=>{n.d(t,{W:()=>d});var r=n(29121),s=n(62271),a=n(44842),o=n(20636),i=n(24841),l=n(99494),c=n(43179),u=n(95912);const d={kernelName:r.oFR,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=(0,o.p)(n,(0,l.i)(0)),r=(0,l.i)(c.y),d=(0,l.i)(c.$),h=(0,i.d)(e,d),p=(0,i.d)((0,i.d)(e,r),(0,a.Q)((0,s.p)(n,"float32")));return(0,u.a)(t,h,p)}}}}},45777:(e,t,n)=>{n.d(t,{E:()=>i});var r=n(29121),s=n(24841),a=n(99494),o=n(70827);const i={kernelName:r.a5O,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,s.d)(e,(0,s.d)(n,(0,o.l)((0,a.i)(1),n)))}}}},80125:(e,t,n)=>{n.d(t,{Q:()=>a});var r=n(29121),s=n(6577);const a={kernelName:r.i5y,gradFunc:e=>({x:()=>(0,s.P)(e)})}},94936:(e,t,n)=>{n.d(t,{_:()=>i});var r=n(29121),s=n(62271),a=n(70173),o=n(24841);const i={kernelName:r.RQH,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,o.d)((0,a.m)((0,s.p)(n,"float32")),e)}}}},77145:(e,t,n)=>{n.d(t,{m:()=>i});var r=n(29121),s=n(62271),a=n(2699),o=n(24841);const i={kernelName:r.wYB,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,o.d)((0,a.f)((0,s.p)(n,"float32")),e)}}}},22154:(e,t,n)=>{n.d(t,{M:()=>o});var r=n(29121),s=n(39682),a=n(37650);const o={kernelName:r.p2w,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{begin:o,size:i}=n,l=r.shape,[c,u]=(0,a.parseSliceParams)(r,o,i),d=[];for(let t=0;t<e.rank;t++)d.push([c[t],l[t]-c[t]-u[t]]);return{x:()=>(0,s.v)(e,d)}}}},82232:(e,t,n)=>{n.d(t,{J:()=>i});var r=n(29121),s=n(24841),a=n(70827),o=n(15475);const i={kernelName:r.Gcp,outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r]=t,{dim:i}=n,l=(0,s.d)(e,r);return{logits:()=>(0,a.l)(l,(0,s.d)((0,o.S)(l,[i],!0),r))}}}},71372:(e,t,n)=>{n.d(t,{H:()=>o});var r=n(29121),s=n(24841),a=n(30625);const o={kernelName:r.MRv,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,s.d)(e,(0,a.X)(n))}}}},18558:(e,t,n)=>{n.d(t,{a:()=>a});var r=n(29121),s=n(28441);const a={kernelName:r.TQc,gradFunc:(e,t,n)=>{const{blockShape:r,paddings:a}=n;return{x:()=>(0,s.E)(e,r,a)}}}},32439:(e,t,n)=>{n.d(t,{n:()=>a});var r=n(29121),s=n(46884);const a={kernelName:r.L8s,gradFunc:(e,t,n)=>{const{axis:r}=n;return{x:()=>(0,s.z)(e,r)}}}},30595:(e,t,n)=>{n.d(t,{C:()=>l});var r=n(29121),s=n(62271),a=n(41274),o=n(24841),i=n(13261);const l={kernelName:r.FKq,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,a.h)(e,(0,o.d)((0,i._)((0,s.p)(n,"float32")),2))}}}},40521:(e,t,n)=>{n.d(t,{t:()=>o});var r=n(29121),s=n(62271),a=n(24841);const o={kernelName:r.bK0,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,a.d)(e,(0,a.d)((0,s.p)(n,"float32"),2))}}}},79719:(e,t,n)=>{n.d(t,{k:()=>i});var r=n(29121),s=n(24841),a=n(99494),o=n(70827);const i={kernelName:r._tC,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,i=(0,a.i)(2);return{a:()=>(0,s.d)(e,(0,s.d)(i,(0,o.l)(n,r))),b:()=>(0,s.d)(e,(0,s.d)(i,(0,o.l)(r,n)))}}}},81554:(e,t,n)=>{n.d(t,{l:()=>a});var r=n(29121),s=n(6577);const a={kernelName:r.h8e,gradFunc:e=>({x:()=>(0,s.P)(e)})}},9460:(e,t,n)=>{n.d(t,{h:()=>l});var r=n(29121),s=n(72200),a=n(17370),o=n(4968),i=n(15475);const l={kernelName:r.Tr8,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,l=s.assertAndGetBroadcastShape(n.shape,r.shape);return{a:()=>{let t=e;const r=s.getReductionAxes(n.shape,l);return r.length>0&&(t=(0,i.S)(t,r)),(0,o.X)(t,n.shape)},b:()=>{let t=e;const n=s.getReductionAxes(r.shape,l);return n.length>0&&(t=(0,i.S)(t,n)),(0,o.X)((0,a.W)(t),r.shape)}}}}},14574:(e,t,n)=>{n.d(t,{y:()=>l});var r=n(29121),s=n(24841),a=n(44917),o=n(4968),i=n(20569);const l={kernelName:r.GBy,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,l=r.shape.slice(),{axis:c}=n;(0,i.EC)(c,r.shape).forEach((e=>{l[e]=1}));const u=(0,o.X)(e,l),d=(0,s.d)(u,(0,a.i)(r.shape,"float32"));return{x:()=>d}}}},83933:(e,t,n)=>{n.d(t,{w:()=>i});var r=n(29121),s=n(70173),a=n(41274),o=n(50248);const i={kernelName:r.sEM,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,a.h)(e,(0,o.h)((0,s.m)(n)))}}}},47320:(e,t,n)=>{n.d(t,{W:()=>l});var r=n(29121),s=n(24841),a=n(99494),o=n(50248),i=n(70827);const l={kernelName:r.MIZ,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,s.d)((0,i.l)((0,a.i)(1),(0,o.h)(n)),e)}}}},272:(e,t,n)=>{n.d(t,{x:()=>i});var r=n(29121),s=n(56407),a=n(22676),o=n(6577);const i={kernelName:r.n9L,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{reps:i}=n;return{x:()=>{let t=(0,o.P)(r);if(1===r.rank)for(let n=0;n<i[0];++n)t=(0,s.I)(t,(0,a.t)(e,[n*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(let n=0;n<i[0];++n)for(let o=0;o<i[1];++o)t=(0,s.I)(t,(0,a.t)(e,[n*r.shape[0],o*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(let n=0;n<i[0];++n)for(let o=0;o<i[1];++o)for(let l=0;l<i[2];++l)t=(0,s.I)(t,(0,a.t)(e,[n*r.shape[0],o*r.shape[1],l*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error(`Gradient for tile operation is not implemented for rank-${r.rank} tensors yet.`);for(let n=0;n<i[0];++n)for(let o=0;o<i[1];++o)for(let l=0;l<i[2];++l)for(let c=0;c<i[3];++c)t=(0,s.I)(t,(0,a.t)(e,[n*r.shape[0],o*r.shape[1],l*r.shape[2],c*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return t}}}}},22625:(e,t,n)=>{n.d(t,{j:()=>o});var r=n(29121),s=n(83591),a=n(89065);const o={kernelName:r.G3Y,gradFunc:(e,t,n)=>{const r=n,{perm:o}=r,i=s.LJ(o);return{x:()=>(0,a.p)(e,i)}}}},23489:(e,t,n)=>{n.d(t,{T:()=>a});var r=n(29121),s=n(82991);const a={kernelName:r.ToN,gradFunc:(e,t,n)=>{const r=n,{axis:a}=r;return{value:()=>(0,s.k)(e,a)}}}},52679:(e,t,n)=>{n.d(t,{x:()=>p});var r=n(29121),s=n(81300),a=n(24926),o=n(17630),i=n(2856),l=n(80632),c=n(44917),u=n(99494),d=n(95912),h=n(6577);const p={kernelName:r.Qvg,inputsToSave:["segmentIds"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>function(e,t){const n=(0,l.g)(t,(0,h.P)(t)),r=(0,a.I)(e,n);let p=(0,o.b)(t,(0,u.i)(0,"int32"));const g=r.rank-p.rank;for(let e=0;e<g;++e)p=(0,s.d)(p,e+1);p=(0,i.H)(p,(0,c.i)(r.shape,"bool"));const f=(0,h.P)(r);return(0,d.a)(p,r,f)}(e,n)}}}},51466:(e,t,n)=>{n.d(t,{a:()=>a});var r=n(29121),s=n(6577);const a={kernelName:r.RuY,gradFunc:e=>({x:()=>(0,s.P)(e)})}},79363:(e,t,n)=>{n.d(t,{c:()=>l});var r=n(83591),s=n(62271),a=n(26477),o=n(24841),i=n(4968);function l(e,t,n,l){return t.rank<n.rank&&(t=(0,i.X)(t,r.rv(t.shape,l))),e.rank<n.rank&&(e=(0,i.X)(e,r.rv(e.shape,l))),{x:()=>(0,o.d)(e,(0,s.p)((0,a.D)(n,t),e.dtype))}}},78194:(e,t,n)=>{n.d(t,{E:()=>a,O:()=>m});var r=n(43720);const s=n.n(r)()||r;function a(e){return s.fromString(e,!0,16)}const o=a("c3a5c85c97cb3127"),i=a("b492b66fbe98f273"),l=a("9ae16a3b2f90404f");function c(e){return e.xor(e.shru(47))}function u(e,t,n){const r=e.slice(t,t+n);return s.fromBytes(Array.from(r),!0,!0)}function d(e,t){return u(e,t,8)}function h(e,t){return u(e,t,4)}function p(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function g(e,t,n=a("9ddfea08eb382d69")){let r=e.xor(t).mul(n);r=r.xor(r.shru(47));let s=t.xor(r).mul(n);return s=s.xor(s.shru(47)),s=s.mul(n),s}function f(e,t,n,r){return function(e,t,n,r,s,a){s=s.add(e),a=p(a.add(s).add(r),21);const o=s;return s=(s=s.add(t)).add(n),a=a.add(p(s,44)),[s.add(r),a.add(o)]}(d(e,t),d(e,t+8),d(e,t+16),d(e,t+24),n,r)}function m(e,t=e.length){const n=s.fromNumber(81,!0);if(t<=32)return t<=16?function(e,t=e.length){if(t>=8){const n=l.add(2*t),r=d(e,0).add(l),s=d(e,t-8);return g(p(s,37).mul(n).add(r),p(r,25).add(s).mul(n),n)}if(t>=4){const n=l.add(2*t);return g(h(e,0).shl(3).add(t),h(e,t-4),n)}if(t>0){const n=e[0]+(e[t>>1]<<8),r=t+(e[t-1]<<2);return c(l.mul(n).xor(o.mul(r))).mul(l)}return l}(e,t):function(e,t=e.length){const n=l.add(2*t),r=d(e,0).mul(i),s=d(e,8),a=d(e,t-8).mul(n),o=d(e,t-16).mul(l);return g(p(r.add(s),43).add(p(a,30)).add(o),r.add(p(s.add(l),18)).add(a),n)}(e,t);if(t<=64)return function(e,t=e.length){const n=l.add(2*t),r=d(e,0).mul(l),s=d(e,8),a=d(e,t-8).mul(n),o=d(e,t-16).mul(l),i=p(r.add(s),43).add(p(a,30)).add(o),c=g(i,r.add(p(s.add(l),18)).add(a),n),u=d(e,16).mul(n),h=d(e,24),f=i.add(d(e,t-32)).mul(n),m=c.add(d(e,t-24)).mul(n);return g(p(u.add(h),43).add(p(f,30)).add(m),u.add(p(h.add(r),18)).add(f),n)}(e,t);let r=n,a=n.mul(i).add(113),u=c(a.mul(l).add(113)).mul(l),m=[s.UZERO,s.UZERO],y=[s.UZERO,s.UZERO];r=r.mul(l).add(d(e,0));let w=0;const v=64*(t-1>>6),S=v+(t-1&63)-63;do{r=p(r.add(a).add(m[0]).add(d(e,w+8)),37).mul(i),a=p(a.add(m[1]).add(d(e,w+48)),42).mul(i),r=r.xor(y[1]),a=a.add(m[0]).add(d(e,w+40)),u=p(u.add(y[0]),33).mul(i),m=f(e,w,m[1].mul(i),r.add(y[0])),y=f(e,w+32,u.add(y[1]),a.add(d(e,w+16))),[u,r]=[r,u],w+=64}while(w!==v);const k=i.add(u.and(255).shl(1));return w=S,y[0]=y[0].add(t-1&63),m[0]=m[0].add(y[0]),y[0]=y[0].add(m[0]),r=p(r.add(a).add(m[0]).add(d(e,w+8)),37).mul(k),a=p(a.add(m[1]).add(d(e,w+48)),42).mul(k),r=r.xor(y[1].mul(9)),a=a.add(m[0].mul(9).add(d(e,w+40))),u=p(u.add(y[0]),33).mul(k),m=f(e,w,m[1].mul(k),r.add(y[0])),y=f(e,w+32,u.add(y[1]),a.add(d(e,w+16))),[u,r]=[r,u],g(g(m[0],y[0],k).add(c(a).mul(o)).add(u),g(m[1],y[1],k).add(r),k)}},88478:(e,t,n)=>{n.d(t,{SYM:()=>$e.SYM,VGw:()=>$e.VGw,SpW:()=>$e.SpW,mm_:()=>$e.mm_,Xze:()=>$e.Xze,oT6:()=>$e.oT6,IKK:()=>$e.IKK,sJF:()=>$e.sJF,aJk:()=>$e.aJk,M2y:()=>$e.M2y,qw7:()=>$e.qw7,jMg:()=>$e.jMg,QCc:()=>$e.QCc,Oyi:()=>$e.Oyi,JhU:()=>$e.JhU,_k9:()=>$e._k9,IMb:()=>$e.IMb,ROF:()=>$e.ROF,XLW:()=>$e.XLW,zws:()=>$e.zws,zvY:()=>$e.zvY,eEB:()=>$e.eEB,RFZ:()=>$e.RFZ,gJX:()=>$e.gJX,xnO:()=>$e.xnO,Zz9:()=>$e.Zz9,yj2:()=>$e.yj2,Eh3:()=>$e.Eh3,mhS:()=>$e.mhS,wUP:()=>$e.wUP,wm:()=>$e.wm,x12:()=>$e.x12,o2y:()=>$e.o2y,ik2:()=>$e.ik2,mc4:()=>$e.mc4,TR1:()=>$e.TR1,VcC:()=>$e.VcC,Byc:()=>$e.Byc,iHb:()=>$e.iHb,JLz:()=>Ue.JL,QRR:()=>$e.QRR,T0n:()=>$e.T0n,cie:()=>$e.cie,sL$:()=>$e.sL$,y7R:()=>$e.y7R,$w:()=>$e.$w,p4S:()=>$e.p4S,$g6:()=>$e.$g6,SX0:()=>$e.SX0,HEU:()=>$e.HEU,hdR:()=>$e.hdR,Omj:()=>$e.Omj,NEP:()=>$e.NEP,YFo:()=>$e.YFo,Y0y:()=>$e.Y0y,vwp:()=>$e.vwp,deh:()=>$e.deh,Uyb:()=>$e.Uyb,OR:()=>$e.OR,jeX:()=>$e.jeX,eBW:()=>$e.eBW,sHE:()=>$e.sHE,_V0:()=>$e._V0,luS:()=>$e.luS,q1x:()=>$e.q1x,qi_:()=>$e.qi_,iZT:()=>$e.iZT,Acj:()=>$e.Acj,Qg5:()=>$e.Qg5,iJz:()=>$e.iJz,J_u:()=>$e.J_u,avt:()=>$e.avt,iWB:()=>$e.iWB,r7n:()=>$e.r7n,Zuw:()=>Ue.Zu,eZ0:()=>$e.eZ0,Hhh:()=>$e.Hhh,J$2:()=>$e.J$2,vtC:()=>$e.vtC,CAk:()=>$e.CAk,e7N:()=>$e.e7N,ZbH:()=>$e.ZbH,kU:()=>$e.kU,PYm:()=>$e.PYm,VfG:()=>$e.VfG,MZg:()=>$e.MZg,YoZ:()=>$e.YoZ,mTV:()=>$e.mTV,OAf:()=>$e.OAf,OU7:()=>$e.OU7,OV7:()=>$e.OV7,vFR:()=>$e.vFR,BMI:()=>$e.BMI,q2K:()=>$e.q2K,c17:()=>$e.c17,q8u:()=>$e.q8u,jQs:()=>$e.jQs,Vbg:()=>$e.Vbg,NZg:()=>$e.NZg,wYn:()=>$e.wYn,kuV:()=>$e.kuV,uv1:()=>$e.uv1,cye:()=>$e.cye,W0H:()=>$e.W0H,yQU:()=>$e.yQU,we_:()=>$e.we_,qWM:()=>$e.qWM,gaJ:()=>G.g,QiL:()=>$e.QiL,lyA:()=>$e.lyA,pe_:()=>$e.pe_,o0g:()=>$e.o0g,DlI:()=>$e.DlI,dDz:()=>$e.dDz,CQl:()=>$e.CQl,BiW:()=>$e.BiW,e6w:()=>$e.e6w,xJR:()=>$e.xJR,oHH:()=>$e.oHH,$HU:()=>$e.$HU,qkr:()=>$e.qkr,SbG:()=>$e.SbG,HZH:()=>$e.HZH,_Yw:()=>$e._Yw,zbQ:()=>$e.zbQ,dpD:()=>$e.dpD,Hmb:()=>$e.Hmb,mKl:()=>$e.mKl,b9H:()=>$e.b9H,e07:()=>$e.e07,bV0:()=>$e.bV0,xQA:()=>$e.xQA,nr8:()=>$e.nr8,PhF:()=>$e.PhF,oFR:()=>$e.oFR,a5O:()=>$e.a5O,i5y:()=>$e.i5y,RQH:()=>$e.RQH,wYB:()=>$e.wYB,p2w:()=>$e.p2w,Gcp:()=>$e.Gcp,MRv:()=>$e.MRv,TQc:()=>$e.TQc,O3z:()=>$e.O3z,nhH:()=>$e.nhH,w3H:()=>$e.w3H,ZjV:()=>$e.ZjV,D2d:()=>$e.D2d,L8s:()=>$e.L8s,FKq:()=>$e.FKq,bK0:()=>$e.bK0,_tC:()=>$e._tC,h8e:()=>$e.h8e,jQk:()=>$e.jQk,_JP:()=>$e._JP,s1s:()=>$e.s1s,XkS:()=>$e.XkS,Tr8:()=>$e.Tr8,GBy:()=>$e.GBy,sEM:()=>$e.sEM,MIZ:()=>$e.MIZ,esB:()=>d.es,YDk:()=>d.YD,n9L:()=>$e.n9L,cWu:()=>$e.cWu,wx7:()=>$e.wx7,G3Y:()=>$e.G3Y,kpP:()=>$e.kpP,ToN:()=>$e.ToN,Qvg:()=>$e.Qvg,RuY:()=>$e.RuY,usg:()=>$e.usg,WnP:()=>q.WnP,IHx:()=>q.IHx,$6P:()=>q.$6P,YjB:()=>q.YjB,NqF:()=>q.NqF,wS1:()=>q.wS1,uR5:()=>q.uR5,y3$:()=>Q.y3,Wap:()=>s,Dxk:()=>q.Dxk,JY5:()=>q.JY5,p3b:()=>q.p3b,UFq:()=>q.UFq,Jyw:()=>_,Xhn:()=>z,f3b:()=>q.f3b,pju:()=>q.pju,iUl:()=>q.iUl,d9v:()=>q.d9v,zoF:()=>q.zoF,gME:()=>q.gME,Izb:()=>q.Izb,MNy:()=>q.MNy,ZaL:()=>q.ZaL,PAt:()=>q.PAt,Tek:()=>q.Tek,bc:()=>q.bc,pdZ:()=>q.pdZ,$QV:()=>q.$QV,ppE:()=>q.ppE,B10:()=>q.B10,C2$:()=>Oe,B90:()=>Q.B9,hiC:()=>q.hiC,rvX:()=>q.rvX,pyx:()=>q.pyx,SRH:()=>Q.SR,OBj:()=>g.OB,DgJ:()=>q.DgJ,Qqt:()=>q.Qqt,dt4:()=>q.dt4,iyy:()=>q.iyy,hlL:()=>q.hlL,GWj:()=>q.GWj,imm:()=>q.imm,Iqj:()=>q.Iqj,N_N:()=>Q.N_,pjt:()=>q.pjt,brS:()=>q.brS,BHj:()=>q.BHj,io:()=>r,CnY:()=>Q.Cn,GDt:()=>a,hi7:()=>q.hi7,$r2:()=>q.$r2,cM7:()=>q.cM7,Krr:()=>q.Krr,CmS:()=>q.CmS,HvI:()=>q.HvI,OI3:()=>q.OI3,Fp7:()=>q.Fp7,_sB:()=>q._sB,YQQ:()=>q.YQQ,gWQ:()=>q.gWQ,J69:()=>q.J69,sq6:()=>Q.sq,VV$:()=>q.VV$,LTh:()=>q.LTh,VdP:()=>q.VdP,Gi7:()=>q.Gi7,dC7:()=>q.dC7,W76:()=>q.W76,glt:()=>Z,Quu:()=>q.Quu,lfX:()=>q.lfX,iUs:()=>q.iUs,JpU:()=>q.JpU,vku:()=>q.vku,AL3:()=>q.AL3,nGf:()=>q.nGf,LGj:()=>q.LGj,w6H:()=>q.w6H,jqO:()=>Q.jq,wCN:()=>X.wC,UYe:()=>q.UYe,XLQ:()=>q.XLQ,GYS:()=>q.GYS,iD$:()=>q.iD$,U8D:()=>q.U8D,U_I:()=>q.U_I,m7h:()=>j,XD2:()=>q.XD2,tPi:()=>q.tPi,jZU:()=>q.jZU,SmN:()=>q.SmN,CnO:()=>q.CnO,p0P:()=>q.p0P,kuN:()=>H,XAC:()=>q.XAC,Wvh:()=>q.Wvh,Vl2:()=>q.Vl2,_b3:()=>q._b3,h62:()=>q.h62,L9e:()=>q.L9e,knu:()=>q.knu,luU:()=>q.luU,Smz:()=>q.Smz,z4k:()=>W.z4,AEp:()=>q.AEp,XeE:()=>q.XeE,RRF:()=>q.RRF,odF:()=>q.odF,lub:()=>Q.lu,Gg6:()=>q.Gg6,p_j:()=>J.p,p4s:()=>q.p4s,Xu6:()=>q.Xu6,HHK:()=>q.HHK,x8V:()=>W.x8,D5U:()=>V,VD$:()=>q.VD$,arb:()=>q.arb,lls:()=>q.lls,P84:()=>q.P84});var r={};n.r(r),n.d(r,{browserFiles:()=>S,browserHTTPRequest:()=>N,concatenateArrayBuffers:()=>f.JY,copyModel:()=>$.ID,decodeWeights:()=>f.dI,encodeWeights:()=>f.yz,fromMemory:()=>O,fromMemorySync:()=>C,getLoadHandlers:()=>m.rM,getModelArtifactsForJSON:()=>f.jN,getModelArtifactsForJSONSync:()=>f.ji,getModelArtifactsInfoForJSON:()=>f.Q,getSaveHandlers:()=>m.yB,getWeightSpecs:()=>f.hu,http:()=>R,isHTTPScheme:()=>B,listModels:()=>$.h1,loadWeights:()=>T,moveModel:()=>$.Ny,registerLoadRouter:()=>m.pS,registerSaveRouter:()=>m.tf,removeModel:()=>$.gw,weightsLoaderFactory:()=>I,withSaveHandler:()=>L,withSaveHandlerSync:()=>U});var s={};n.r(s),n.d(s,{ERF_A1:()=>ue.Aj,ERF_A2:()=>ue.py,ERF_A3:()=>ue.Kh,ERF_A4:()=>ue.Qy,ERF_A5:()=>ue.eh,ERF_P:()=>ue.IA,PARALLELIZE_THRESHOLD:()=>se.g,RowPartitionType:()=>re.b2,SELU_SCALE:()=>ce.$,SELU_SCALEALPHA:()=>ce.y,applyActivation:()=>ne.QH,assertAndGetBroadcastShape:()=>_.assertAndGetBroadcastShape,assertAxesAreInnerMostDims:()=>K.lB,assertParamsConsistent:()=>ee.o,assignToTypedArray:()=>ye,axesAreInnerMostDims:()=>K.YB,calculateShapes:()=>le.SU,checkEinsumDimSizes:()=>Fe,checkPadOnDimRoundingMode:()=>te.m,combineLocations:()=>K.Vh,combineRaggedTensorToTensorShapes:()=>re.Qd,complexWithEvenIndex:()=>ge,complexWithOddIndex:()=>fe,computeConv2DInfo:()=>te.Ix,computeConv3DInfo:()=>te.jw,computeDefaultPad:()=>te.aO,computeDilation2DInfo:()=>te.Rf,computeOptimalWindowSize:()=>se.A,computeOutAndReduceShapes:()=>K.kz,computeOutShape:()=>ee.N,computePool2DInfo:()=>te.Xw,computePool3DInfo:()=>te.pl,convertConv2DDataFormat:()=>te.sl,decodeEinsumEquation:()=>be,eitherStridesOrDilationsAreOne:()=>te.jT,expandShapeToKeepDim:()=>K.rv,exponent:()=>ve,exponents:()=>we,fromStringArrayToUint8:()=>Pe,fromUint8ToStringArray:()=>De,getAxesPermutation:()=>K.Q3,getBroadcastDims:()=>_.getBroadcastDims,getComplexWithIndex:()=>me,getEinsumComputePath:()=>Te,getEinsumPermutation:()=>xe,getFusedBiasGradient:()=>ne.pf,getFusedDyActivation:()=>ne.Fr,getImageCenter:()=>ae.Q,getInnerMostAxes:()=>K.sY,getPermuted:()=>oe.xw,getRaggedRank:()=>re.Qh,getReductionAxes:()=>_.getReductionAxes,getReshaped:()=>oe.R7,getReshapedPermuted:()=>oe.TK,getRowPartitionTypesHelper:()=>re.zb,getSliceBeginCoords:()=>oe.oP,getSliceSize:()=>oe.qX,getSparseFillEmptyRowsIndicesDenseShapeMismatch:()=>Ae.h,getSparseFillEmptyRowsNegativeIndexErrorMessage:()=>Ae.E3,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:()=>Ae.I_,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:()=>Re.rP,getSparseReshapeInputOutputMismatchErrorMessage:()=>Re.aY,getSparseReshapeInputOutputMultipleErrorMessage:()=>Re.yv,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:()=>Re.y5,getSparseReshapeNegativeOutputDimErrorMessage:()=>Re.Y6,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:()=>Ne.u6,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:()=>Ne.N5,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:()=>Ne.XL,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:()=>Ne.GW,getUndoAxesPermutation:()=>K.LJ,isIdentityPermutation:()=>Ie,log:()=>de.c,mergeRealAndImagArrays:()=>he,prepareAndValidate:()=>ie.V,prepareSplitSize:()=>Be.O,segment_util:()=>Me,shouldFuse:()=>ne.uy,slice_util:()=>H,splitRealAndImagArrays:()=>pe,stridesOrDilationsArePositive:()=>te.U3,tupleValuesAreOne:()=>te.I0,upcastType:()=>W.x8,validateDefaultValueShape:()=>re.Ys,validateInput:()=>le.b0,validateUpdateShape:()=>le.l5,warn:()=>de.Z});var a={};n.r(a),n.d(a,{GP:()=>Ce.GP,qP:()=>Ce.qP,pA:()=>Ce.pA,ZA:()=>Le.Z});var o=n(23926),i=(n(79998),n(26480),n(35221),n(72657)),l=n(62271),c=n(8723),u=n(29798),d=n(4077);(0,o.wv)();const h={buffer:i.f,cast:l.p,clone:c.d,print:u.S};(0,d.Vp)(h);var p=n(18362),g=(n(61044),n(28209),n(22885)),f=n(91989),m=n(36493);function y(e){return new Promise((e=>setTimeout(e))).then(e)}class w{constructor(e){if(!(0,g.OB)().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(w.URL_SCHEME)&&(e=e.slice(w.URL_SCHEME.length)),null!=e&&0!==e.length||(e="model"),this.modelJsonFileName=e+".json",this.weightDataFileName=e+".weights.bin"}async save(e){if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const n=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],r=(0,f.Yd)(e,n),s=window.URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"})),a=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(a.download=this.modelJsonFileName,a.href=s,await y((()=>a.dispatchEvent(new MouseEvent("click")))),null!=e.weightData){const e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=t,await y((()=>e.dispatchEvent(new MouseEvent("click"))))}return{modelArtifactsInfo:(0,f.Q)(e)}}}}w.URL_SCHEME="downloads://";class v{constructor(e){if(null==e||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise(((e,t)=>{const n=new FileReader;n.onload=n=>{const r=JSON.parse(n.target.result),s=r.modelTopology;if(null==s)return void t(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));if(null==r.weightsManifest)return void t(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));if(0===this.weightsFiles.length)return void e({modelTopology:s});const a=(0,f.jN)(r,(e=>this.loadWeights(e)));e(a)},n.onerror=e=>t(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),n.readAsText(this.jsonFile)}))}loadWeights(e){const t=[],n=[];for(const r of e)t.push(...r.weights),n.push(...r.paths);const r=this.checkManifestAndWeightFiles(e),s=n.map((e=>this.loadWeightsFile(e,r[e])));return Promise.all(s).then((e=>[t,(0,f.JY)(e)]))}loadWeightsFile(e,t){return new Promise(((n,r)=>{const s=new FileReader;s.onload=e=>{const t=e.target.result;n(t)},s.onerror=t=>r(`Failed to weights data from file of path '${e}'.`),s.readAsArrayBuffer(t)}))}checkManifestAndWeightFiles(e){const t=[],n=this.weightsFiles.map((e=>(0,f.EZ)(e.name))),r={};for(const s of e)s.paths.forEach((e=>{const s=(0,f.EZ)(e);if(-1!==t.indexOf(s))throw new Error(`Duplicate file basename found in weights manifest: '${s}'`);if(t.push(s),-1===n.indexOf(s))throw new Error(`Weight file with basename '${s}' is not provided.`);r[e]=this.weightsFiles[n.indexOf(s)]}));if(t.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${t.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return r}}function S(e){return new v(e)}m.U3.registerSaveRouter((e=>(0,g.OB)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(w.URL_SCHEME)?function(e="model"){return new w(e)}(e.slice(w.URL_SCHEME.length)):null));var k=n(20569);function b(e,t,n,r){!function(e){(0,k.hu)(null!=e&&Array.isArray(e)&&e.length>0,(()=>"promises must be a none empty array"))}(e),function(e,t){(0,k.hu)(e>=0&&e<=1,(()=>`Progress fraction must be in range [0, 1], but got startFraction ${e}`)),(0,k.hu)(t>=0&&t<=1,(()=>`Progress fraction must be in range [0, 1], but got endFraction ${t}`)),(0,k.hu)(t>=e,(()=>`startFraction must be no more than endFraction, but got startFraction ${e} and endFraction ${t}`))}(n=null==n?0:n,r=null==r?1:r);let s=0;return Promise.all(e.map((a=>(a.then((a=>{const o=n+ ++s/e.length*(r-n);return t(o),a})),a))))}var x=n(75771);async function F(e,t){null==t&&(t={});const n=null==t.fetchFunc?(0,g.OB)().platform.fetch:t.fetchFunc,r=e.map((e=>n(e,t.requestInit,{isBinary:!0}))),s=(null==t.onProgress?await Promise.all(r):await b(r,t.onProgress,0,.5)).map((e=>e.arrayBuffer()));return null==t.onProgress?await Promise.all(s):await b(s,t.onProgress,.5,1)}async function T(e,t="",n,r){return I((e=>F(e,{requestInit:r})))(e,t,n)}function I(e){return async(t,n="",r)=>{const s=t.map((()=>!1)),a={},o=null!=r?r.map((()=>!1)):[],i=[];if(t.forEach(((e,t)=>{let n=0;e.weights.forEach((e=>{const l="quantization"in e?e.quantization.dtype:e.dtype,c=x.J[l]*k.NA(e.shape),u=()=>{s[t]=!0,null==a[t]&&(a[t]=[]),a[t].push({manifestEntry:e,groupOffset:n,sizeBytes:c})};null!=r?r.forEach(((t,n)=>{t===e.name&&(u(),o[n]=!0)})):u(),i.push(e.name),n+=c}))})),!o.every((e=>e))){const e=r.filter(((e,t)=>!o[t]));throw new Error(`Could not find weights in manifest with names: ${e.join(", ")}. \nManifest JSON has weights with names: ${i.join(", ")}.`)}const l=s.reduce(((e,t,n)=>(t&&e.push(n),e)),[]),c=[];l.forEach((e=>{t[e].paths.forEach((e=>{const t=n+(n.endsWith("/")?"":"/")+e;c.push(t)}))}));const u=await e(c),d={};let h=0;return l.forEach((e=>{const n=t[e].paths.length;let r=0;for(let e=0;e<n;e++)r+=u[h+e].byteLength;const s=new ArrayBuffer(r),o=new Uint8Array(s);let i=0;for(let e=0;e<n;e++){const t=new Uint8Array(u[h+e]);o.set(t,i),i+=t.byteLength}a[e].forEach((e=>{const t=s.slice(e.groupOffset,e.groupOffset+e.sizeBytes),n=(0,f.dI)(t,[e.manifestEntry]);for(const e in n)d[e]=n[e]})),h+=n})),d}}class E{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?((0,k.hu)("function"==typeof t.fetchFunc,(()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)")),this.fetch=t.fetchFunc):this.fetch=(0,g.OB)().platform.fetch,(0,k.hu)(null!=e&&e.length>0,(()=>"URL path for http must not be null, undefined or empty.")),Array.isArray(e)&&(0,k.hu)(2===e.length,(()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`)),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const n=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],r=(0,f.Yd)(e,n);t.body.append("model.json",new Blob([JSON.stringify(r)],{type:"application/json"}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin");const s=await this.fetch(this.path,t);if(s.ok)return{modelArtifactsInfo:(0,f.Q)(e),responses:[s]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${s.status}.`)}async load(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let t;try{t=await e.json()}catch(e){let t=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?t+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":t+=" Please make sure the server is serving valid JSON for this request.",new Error(t)}const n=t.modelTopology,r=t.weightsManifest;if(null==n&&null==r)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return(0,f.jN)(t,(e=>this.loadWeights(e)))}async loadWeights(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[n,r]=function(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?");return[e.substring(0,t)+"/",n>t?e.substring(n):""]}(t),s=this.weightPathPrefix||n,a=(0,f.hu)(e),o=[],i=[];for(const t of e)for(const e of t.paths)null!=this.weightUrlConverter?i.push(this.weightUrlConverter(e)):o.push(s+e+r);this.weightUrlConverter&&o.push(...await Promise.all(i));const l=await F(o,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});return[a,(0,f.JY)(l)]}}function B(e){return null!=e.match(E.URL_SCHEME_REGEX)}E.URL_SCHEME_REGEX=/^https?:\/\//;const A=(e,t)=>{if("undefined"==typeof fetch&&(null==t||null==t.fetchFunc))return null;{let n=!0;if(n=Array.isArray(e)?e.every((e=>B(e))):B(e),n)return R(e,t)}return null};function R(e,t){return new E(e,t)}function N(e,t){return R(e,t)}m.U3.registerSaveRouter(A),m.U3.registerLoadRouter(A);class M{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class D{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class P{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=t=>Promise.resolve(e.save(t)))}}function O(e,t,n,r){const s=arguments;return new P(C(...s))}function C(e,t,n,r){return 1===arguments.length?null!=e.modelTopology||null!=e.weightSpecs?new M(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new M({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new M({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))}function L(e){return new D(e)}function U(e){return new D(e)}var $=n(90780),_=n(72200),z=n(30039),H=n(37650),j=n(53393),V=n(59155),G=n(61015),W=n(71221),q=n(15863),J=n(7472),Q=n(4368),X=n(26151);const Y="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setImmediate?setImmediate:e=>e();function Z(){return new Promise((e=>Y((()=>e()))))}var K=n(83591),ee=n(30398),te=n(2582),ne=n(19323),re=n(74825),se=n(25466),ae=n(29645),oe=n(87199),ie=n(37410),le=n(33028),ce=n(43179),ue=n(52176),de=n(64706);function he(e,t){if(e.length!==t.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${e.length}, imag: ${t.length}.`);const n=new Float32Array(2*e.length);for(let r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function pe(e){const t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}function ge(e){const t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let t=0;t<e.length;t+=4)n[Math.floor(t/4)]=e[t],r[Math.floor(t/4)]=e[t+1];return{real:n,imag:r}}function fe(e){const t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let t=2;t<e.length;t+=4)n[Math.floor(t/4)]=e[t],r[Math.floor(t/4)]=e[t+1];return{real:n,imag:r}}function me(e,t){return{real:e[2*t],imag:e[2*t+1]}}function ye(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function we(e,t){const n=new Float32Array(e/2),r=new Float32Array(e/2);for(let s=0;s<Math.ceil(e/2);s++){const a=(t?2:-2)*Math.PI*(s/e);n[s]=Math.cos(a),r[s]=Math.sin(a)}return{real:n,imag:r}}function ve(e,t,n){const r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}const Se="->",ke=/->/g;function be(e,t){const n=((e=e.replace(/\s/g,"")).length-e.replace(ke,"").length)/Se.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${Se}").`);const[r,s]=e.split(Se);(0,k.hu)(-1===r.indexOf("..."),(()=>'The ellipsis notation ("...") is not supported yet.'));const a=r.split(","),o=a.length;if(t!==o)throw new Error(`Expected ${o} input tensors, received ${t}`);if(o>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const i=[];for(let e=0;e<s.length;++e){const t=s[e];if(!a.some((e=>-1!==e.indexOf(t))))throw new Error(`Output subscripts contain the label ${t} not present in the input subscripts.`);-1===i.indexOf(t)&&i.push(t)}for(let e=0;e<r.length;++e){const t=r[e];-1===i.indexOf(t)&&","!==t&&i.push(t)}const l=new Array(a.length);for(let e=0;e<o;++e){if(new Set(a[e].split("")).size!==a[e].length)throw new Error(`Found duplicate axes in input component ${a[e]}. Support for duplicate axes in input is not implemented yet.`);l[e]=[];for(let t=0;t<a[e].length;++t)l[e].push(i.indexOf(a[e][t]))}const c=i.length,u=[];for(let e=s.length;e<c;++e)u.push(e);return{allDims:i,summedDims:u,idDims:l}}function xe(e,t){let n=new Array(e);n.fill(-1);for(let e=0;e<t.length;++e)n[t[e]]=e;const r=[];for(let t=0;t<e;++t)-1===n[t]&&r.push(t);return n=n.filter((e=>-1!==e)),{permutationIndices:n,expandDims:r}}function Fe(e,t,n){const r=new Array(e);for(let e=0;e<n.length;++e){const s=n[e].shape;for(let n=0;n<t[e].length;++n)void 0===r[t[e][n]]?r[t[e][n]]=s[n]:(0,k.hu)(r[t[e][n]]===s[n],(()=>`Expected dimension ${r[t[e][n]]} at axis ${n} of input shaped ${JSON.stringify(s)}, but got dimension ${s[n]}`))}}function Te(e,t){const n=e,r=[];let s=0;0===e.length&&n.push(-1),s=e.length+1;for(let e=0;e<s;++e)r.push([]);const a=[];for(let e=0;e<n.length;++e){const s=Ee(t,n[e]);for(const t of s)-1===a.indexOf(t)&&(r[e].push(t),a.push(t))}return{path:n,steps:r}}function Ie(e){return e.every(((e,t)=>e===t))}function Ee(e,t){const n=[];for(let r=0;r<e.length;++r)0!==e[r].length&&-1===e[r].indexOf(t)&&-1!==t||n.push(r);return n}var Be=n(34099),Ae=n(90820),Re=n(49139),Ne=n(88153),Me=n(14931);function De(e){try{return e.map((e=>(0,V.decodeString)(e)))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function Pe(e){return e.map((e=>(0,V.encodeString)(e)))}var Oe=n(85999),Ce=n(83337),Le=n(48333),Ue=n(68713),$e=n(29121);(0,p.V)()},61044:(e,t,n)=>{n.d(t,{ns:()=>d,y$:()=>p}),n(79998);var r=n(22885),s=n(91989),a=n(36493);const o="tensorflowjs",i="models_store",l="model_info_store";function c(){if(!(0,r.OB)().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"==typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function u(e){const t=e.result;t.createObjectStore(i,{keyPath:"modelPath"}),t.createObjectStore(l,{keyPath:"modelPath"})}class d{constructor(e){if(this.indexedDB=c(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise(((e,n)=>{const r=this.indexedDB.open(o,1);r.onupgradeneeded=()=>u(r),r.onsuccess=()=>{const a=r.result;if(null==t){const t=a.transaction(i,"readonly"),r=t.objectStore(i).get(this.modelPath);r.onsuccess=()=>{if(null==r.result)return a.close(),n(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));e(r.result.modelArtifacts)},r.onerror=e=>(a.close(),n(r.error)),t.oncomplete=()=>a.close()}else{const r=(0,s.Q)(t),o=a.transaction(l,"readwrite");let c=o.objectStore(l);const u=c.put({modelPath:this.modelPath,modelArtifactsInfo:r});let d;u.onsuccess=()=>{d=a.transaction(i,"readwrite");const s=d.objectStore(i).put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:r});s.onsuccess=()=>e({modelArtifactsInfo:r}),s.onerror=e=>{c=o.objectStore(l);const t=c.delete(this.modelPath);t.onsuccess=()=>(a.close(),n(s.error)),t.onerror=e=>(a.close(),n(s.error))}},u.onerror=e=>(a.close(),n(u.error)),o.oncomplete=()=>{null==d?a.close():d.oncomplete=()=>a.close()}}},r.onerror=e=>n(r.error)}))}}d.URL_SCHEME="indexeddb://";const h=e=>{return(0,r.OB)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(d.URL_SCHEME)?(t=e.slice(d.URL_SCHEME.length),new d(t)):null;var t};a.U3.registerSaveRouter(h),a.U3.registerLoadRouter(h);class p{constructor(){this.indexedDB=c()}async listModels(){return new Promise(((e,t)=>{const n=this.indexedDB.open(o,1);n.onupgradeneeded=()=>u(n),n.onsuccess=()=>{const r=n.result,s=r.transaction(l,"readonly"),a=s.objectStore(l).getAll();a.onsuccess=()=>{const t={};for(const e of a.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},a.onerror=e=>(r.close(),t(a.error)),s.oncomplete=()=>r.close()},n.onerror=e=>t(n.error)}))}async removeModel(e){var t;return e=(t=e).startsWith(d.URL_SCHEME)?t.slice(d.URL_SCHEME.length):t,new Promise(((t,n)=>{const r=this.indexedDB.open(o,1);r.onupgradeneeded=()=>u(r),r.onsuccess=()=>{const s=r.result,a=s.transaction(l,"readwrite"),o=a.objectStore(l),c=o.get(e);let u;c.onsuccess=()=>{if(null==c.result)return s.close(),n(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const r=o.delete(e),a=()=>{u=s.transaction(i,"readwrite");const r=u.objectStore(i).delete(e);r.onsuccess=()=>t(c.result.modelArtifactsInfo),r.onerror=e=>n(c.error)};r.onsuccess=a,r.onerror=e=>(a(),s.close(),n(c.error))}},c.onerror=e=>(s.close(),n(c.error)),a.oncomplete=()=>{null==u?s.close():u.oncomplete=()=>s.close()}},r.onerror=e=>n(r.error)}))}}},91989:(e,t,n)=>{n.d(t,{EZ:()=>f,JY:()=>g,Q:()=>v,Yd:()=>m,_n:()=>h,dI:()=>l,hu:()=>S,jN:()=>w,ji:()=>y,n7:()=>p,yz:()=>i});var r=n(61661),s=n(10701),a=n(20569),o=n(75771);async function i(e,t){const n=[],r=[],s=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);for(let a=0;a<s.length;++a){const o=s[a],i=Array.isArray(e)?e[a].tensor:e[o];if("float32"!==i.dtype&&"int32"!==i.dtype&&"bool"!==i.dtype&&"string"!==i.dtype&&"complex64"!==i.dtype)throw new Error(`Unsupported dtype in weight '${o}': ${i.dtype}`);const l={name:o,shape:i.shape,dtype:i.dtype};if("string"===i.dtype){const e=new Promise((async e=>{const t=await i.bytes(),n=t.reduce(((e,t)=>e+t.length),0)+4*t.length,r=new Uint8Array(n);let s=0;for(let e=0;e<t.length;e++){const n=t[e],a=new Uint8Array(new Uint32Array([n.length]).buffer);r.set(a,s),s+=4,r.set(n,s),s+=n.length}e(r)}));r.push(e)}else r.push(i.data());null!=t&&(l.group=t),n.push(l)}return{data:c(await Promise.all(r)),specs:n}}function l(e,t){const n={};let i,l=0;for(const c of t){const t=c.name,u=c.dtype,d=c.shape,h=(0,a.NA)(d);let p;if("quantization"in c){const n=c.quantization;if("uint8"===n.dtype||"uint16"===n.dtype){if(!("min"in n)||!("scale"in n))throw new Error(`Weight ${c.name} with quantization ${n.dtype} doesn't have corresponding metadata min and scale.`)}else{if("float16"!==n.dtype)throw new Error(`Weight ${c.name} has unknown quantization dtype ${n.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);if("float32"!==u)throw new Error(`Weight ${c.name} is quantized with ${n.dtype} which only supports weights of type float32 not ${u}.`)}const r=o.J[n.dtype],s=e.slice(l,l+h*r),a="uint8"===n.dtype?new Uint8Array(s):new Uint16Array(s);if("float32"===u)if("uint8"===n.dtype||"uint16"===n.dtype){p=new Float32Array(a.length);for(let e=0;e<a.length;e++){const t=a[e];p[e]=t*n.scale+n.min}}else{if("float16"!==n.dtype)throw new Error(`Unsupported quantization type ${n.dtype} for weight type float32.`);void 0===i&&(i=k()),p=i(a)}else{if("int32"!==u)throw new Error(`Unsupported dtype in weight '${t}': ${u}`);if("uint8"!==n.dtype&&"uint16"!==n.dtype)throw new Error(`Unsupported quantization type ${n.dtype} for weight type int32.`);p=new Int32Array(a.length);for(let e=0;e<a.length;e++){const t=a[e];p[e]=Math.round(t*n.scale+n.min)}}l+=h*r}else if("string"===u){const t=(0,a.NA)(c.shape);p=[];for(let n=0;n<t;n++){const t=new Uint32Array(e.slice(l,l+4))[0];l+=4;const n=new Uint8Array(e.slice(l,l+t));p.push(n),l+=t}}else{const a=o.J[u],i=e.slice(l,l+h*a);if("float32"===u)p=new Float32Array(i);else if("int32"===u)p=new Int32Array(i);else if("bool"===u)p=new Uint8Array(i);else{if("complex64"!==u)throw new Error(`Unsupported dtype in weight '${t}': ${u}`);{p=new Float32Array(i);const e=new Float32Array(p.length/2),a=new Float32Array(p.length/2);for(let t=0;t<e.length;t++)e[t]=p[2*t],a[t]=p[2*t+1];const o=(0,s.X)(e,d,"float32"),l=(0,s.X)(a,d,"float32");n[t]=(0,r.P)(o,l),o.dispose(),l.dispose()}}l+=h*a}"complex64"!==u&&(n[t]=(0,s.X)(p,d,u))}return n}function c(e){if(null===e)throw new Error(`Invalid input value: ${JSON.stringify(e)}`);let t=0;const n=[];e.forEach((e=>{if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${e.constructor.name}`)}));const r=new Uint8Array(t);let s=0;return n.forEach((e=>{r.set(new Uint8Array(e.buffer),s),s+=e.byteLength})),r.buffer}const u="undefined"!=typeof Buffer&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function d(e){return u?Buffer.byteLength(e):new Blob([e]).size}function h(e){if(u)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let e=0,r=t.length;e<r;e++)n+=String.fromCharCode(t[e]);return btoa(n)}function p(e){if(u){const t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n.set([t.charCodeAt(e)],e);return n.buffer}function g(e){if(1===e.length)return e[0];let t=0;e.forEach((e=>{t+=e.byteLength}));const n=new Uint8Array(t);let r=0;return e.forEach((e=>{n.set(new Uint8Array(e),r),r+=e.byteLength})),n.buffer}function f(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);const t=e.split("/");return t[t.length-1]}function m(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(n.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}function y(e,t,n){const r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(r.trainingConfig=e.trainingConfig),null!=e.weightsManifest){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=t,r.weightData=n}return null!=e.signature&&(r.signature=e.signature),null!=e.userDefinedMetadata&&(r.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(r.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(r.initializerSignature=e.initializerSignature),r}async function w(e,t){let n,r;return null!=e.weightsManifest&&([n,r]=await t(e.weightsManifest)),y(e,n,r)}function v(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:d(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:d(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}function S(e){const t=[];for(const n of e)t.push(...n.weights);return t}function k(){const e=function(){const e=e=>{let t=e<<13,n=0;for(;0==(8388608&t);)n-=8388608,t<<=1;return t&=-8388609,n+=947912704,t|n},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let e=1024;e<2048;e++)t[e]=939524096+(e-1024<<13);return t}(),t=function(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}(),n=function(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return r=>{const s=new ArrayBuffer(4*r.length),a=new Uint32Array(s);for(let s=0;s<r.length;s++){const o=r[s],i=e[n[o>>10]+(1023&o)]+t[o>>10];a[s]=i}return new Float32Array(s)}}},28209:(e,t,n)=>{n.d(t,{Ew:()=>y,JL:()=>v}),n(79998);var r=n(22885),s=n(20569),a=n(91989),o=n(36493);const i="/",l="tensorflowjs_models",c="info",u="model_topology",d="weight_specs",h="weight_data",p="model_metadata";function g(e){return{info:[l,e,c].join(i),topology:[l,e,u].join(i),weightSpecs:[l,e,d].join(i),weightData:[l,e,h].join(i),modelMetadata:[l,e,p].join(i)}}function f(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function m(e){const t=e.split(i);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join(i)}class y{constructor(e){if(!(0,r.OB)().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=g(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),r=(0,a.Q)(e);try{this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,(0,a._n)(e.weightData));const s={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,initializerSignature:null!=e.initializerSignature?e.initializerSignature:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(s)),{modelArtifactsInfo:r}}catch(e){throw f(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${r.modelTopologyBytes}, weightSpecsBytes=${r.weightSpecsBytes}, weightDataBytes=${r.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);t.modelTopology=n;const r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==r)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);t.weightSpecs=r;const s=this.LS.getItem(this.keys.modelMetadata);if(null!=s){const e=JSON.parse(s);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,null!=e.signature&&(t.signature=e.signature),null!=e.userDefinedMetadata&&(t.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(t.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(t.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(t.trainingConfig=e.trainingConfig)}const o=this.LS.getItem(this.keys.weightData);if(null==o)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return t.weightData=(0,a.n7)(o),t}}y.URL_SCHEME="localstorage://";const w=e=>{return(0,r.OB)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(y.URL_SCHEME)?(t=e.slice(y.URL_SCHEME.length),new y(t)):null;var t};o.U3.registerSaveRouter(w),o.U3.registerLoadRouter(w);class v{constructor(){(0,s.hu)((0,r.OB)().getBool("IS_BROWSER"),(()=>"Current environment is not a web browser")),(0,s.hu)("undefined"==typeof window||void 0!==window.localStorage,(()=>"Current browser does not appear to support localStorage")),this.LS=window.localStorage}async listModels(){const e={},t=l+i,n=i+c;for(let r=0;r<this.LS.length;++r){const s=this.LS.key(r);s.startsWith(t)&&s.endsWith(n)&&(e[m(s)]=JSON.parse(this.LS.getItem(s)))}return e}async removeModel(e){var t;const n=g(e=(t=e).startsWith(y.URL_SCHEME)?t.slice(y.URL_SCHEME.length):t);if(null==this.LS.getItem(n.info))throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(n.info));return f(n),r}}},90780:(e,t,n)=>{n.d(t,{ID:()=>d,Ny:()=>h,gw:()=>u,h1:()=>c,xQ:()=>o});var r=n(20569),s=n(36493);const a="://";class o{constructor(){this.managers={}}static getInstance(){return null==o.instance&&(o.instance=new o),o.instance}static registerManager(e,t){(0,r.hu)(null!=e,(()=>"scheme must not be undefined or null.")),e.endsWith(a)&&(e=e.slice(0,e.indexOf(a))),(0,r.hu)(e.length>0,(()=>"scheme must not be an empty string."));const n=o.getInstance();(0,r.hu)(null==n.managers[e],(()=>`A model store manager is already registered for scheme '${e}'.`)),n.managers[e]=t}static getManager(e){const t=o.getInstance().managers[e];if(null==t)throw new Error(`Cannot find model manager for scheme '${e}'`);return t}static getSchemes(){return Object.keys(o.getInstance().managers)}}function i(e){if(-1===e.indexOf(a))throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${o.getSchemes().join(",")}`);return{scheme:e.split(a)[0],path:e.split(a)[1]}}async function l(e,t,n=!1){(0,r.hu)(e!==t,(()=>`Old path and new path are the same: '${e}'`));const a=s.U3.getLoadHandlers(e);(0,r.hu)(a.length>0,(()=>`Copying failed because no load handler is found for source URL ${e}.`)),(0,r.hu)(a.length<2,(()=>`Copying failed because more than one (${a.length}) load handlers for source URL ${e}.`));const l=a[0],c=s.U3.getSaveHandlers(t);(0,r.hu)(c.length>0,(()=>`Copying failed because no save handler is found for destination URL ${t}.`)),(0,r.hu)(c.length<2,(()=>`Copying failed because more than one (${a.length}) save handlers for destination URL ${t}.`));const u=c[0],d=i(e).scheme,h=i(e).path,p=d===i(e).scheme,g=await l.load();n&&p&&await o.getManager(d).removeModel(h);const f=await u.save(g);return n&&!p&&await o.getManager(d).removeModel(h),f.modelArtifactsInfo}async function c(){const e=o.getSchemes(),t={};for(const n of e){const e=await o.getManager(n).listModels();for(const r in e)t[n+a+r]=e[r]}return t}async function u(e){const t=i(e);return o.getManager(t.scheme).removeModel(t.path)}async function d(e,t){return l(e,t,!1)}async function h(e,t){return l(e,t,!0)}},36493:(e,t,n)=>{n.d(t,{U3:()=>r,pS:()=>a,rM:()=>i,tf:()=>s,yB:()=>o});class r{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==r.instance&&(r.instance=new r),r.instance}static registerSaveRouter(e){r.getInstance().saveRouters.push(e)}static registerLoadRouter(e){r.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return r.getHandlers(e,"save")}static getLoadHandlers(e,t){return r.getHandlers(e,"load",t)}static getHandlers(e,t,n){const s=[];return("load"===t?r.getInstance().loadRouters:r.getInstance().saveRouters).forEach((t=>{const r=t(e,n);null!==r&&s.push(r)})),s}}const s=e=>r.registerSaveRouter(e),a=e=>r.registerLoadRouter(e),o=e=>r.getSaveHandlers(e),i=(e,t)=>r.getLoadHandlers(e,t)},75771:(e,t,n)=>{n.d(t,{J:()=>r});const r={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8}},29121:(e,t,n)=>{n.d(t,{$HU:()=>ht,$g6:()=>K,$w:()=>J,Acj:()=>me,BMI:()=>Ce,BiW:()=>ct,Byc:()=>_,CAk:()=>Te,CQl:()=>lt,D2d:()=>Ht,DlI:()=>ot,Eh3:()=>N,FKq:()=>Dt,G3Y:()=>tn,GBy:()=>Pt,Gcp:()=>Lt,HEU:()=>te,HZH:()=>gt,Hhh:()=>Pe,Hmb:()=>mt,IKK:()=>c,IMb:()=>S,J$2:()=>xe,J_u:()=>ve,JhU:()=>y,L8s:()=>Ct,Ly9:()=>F,M2y:()=>h,MIZ:()=>Yt,MRv:()=>Mt,MZg:()=>Ne,NEP:()=>se,NZg:()=>qe,O3z:()=>Ut,OAf:()=>$e,OR:()=>ue,OU7:()=>_e,OV7:()=>Ue,Omj:()=>ne,Oyi:()=>f,PYm:()=>Ae,PhF:()=>Tt,QCc:()=>m,QRR:()=>j,Qg5:()=>we,QiL:()=>nt,Qvg:()=>sn,RFZ:()=>I,ROF:()=>w,RQH:()=>Bt,RuY:()=>an,SX0:()=>ee,SYM:()=>r,SbG:()=>vt,SpW:()=>a,T0n:()=>V,TQc:()=>Ot,TR1:()=>$,ToN:()=>rn,Tr8:()=>Qt,Uyb:()=>ce,VGw:()=>s,Vbg:()=>We,VcC:()=>H,VfG:()=>Re,Vn9:()=>Y,W0H:()=>Ke,XLW:()=>k,XkS:()=>Jt,Xze:()=>i,Y0y:()=>oe,YFo:()=>ae,YoZ:()=>Oe,ZbH:()=>Ee,ZjV:()=>zt,Zz9:()=>A,_JP:()=>Wt,_V0:()=>dn,_Yw:()=>yt,_k9:()=>v,_tC:()=>jt,a5O:()=>Nt,aJk:()=>d,avt:()=>Se,b9H:()=>cn,bK0:()=>Vt,bV0:()=>bt,c17:()=>je,cWu:()=>Kt,cie:()=>G,cye:()=>Ze,dDz:()=>it,deh:()=>le,dpD:()=>ft,e07:()=>kt,e6w:()=>ut,e7N:()=>Ie,eBW:()=>ln,eEB:()=>T,eZ0:()=>De,ekb:()=>X,gJX:()=>E,h8e:()=>on,hdR:()=>re,i5y:()=>Rt,iHb:()=>z,iJz:()=>ye,iWB:()=>ke,iZT:()=>fe,ik2:()=>L,jMg:()=>g,jQk:()=>Gt,jQs:()=>Ge,jeX:()=>de,kU:()=>Be,kpP:()=>nn,kuV:()=>Qe,luS:()=>hn,lyA:()=>rt,mKl:()=>St,mTV:()=>Le,mc4:()=>U,mhS:()=>M,mm_:()=>o,n9L:()=>Zt,nhH:()=>$t,nr8:()=>Ft,o0g:()=>at,o2y:()=>C,oFR:()=>It,oHH:()=>Z,oT6:()=>l,p2w:()=>Et,p4S:()=>Q,pe_:()=>st,q1x:()=>ge,q2K:()=>He,q8u:()=>Ve,qCd:()=>Me,qWM:()=>et,qi_:()=>pe,qkr:()=>pt,qw7:()=>p,r7n:()=>be,s1s:()=>qt,sEM:()=>Xt,sHE:()=>he,sJF:()=>u,sL$:()=>W,usg:()=>un,uv1:()=>Ye,vFR:()=>ze,vtC:()=>Fe,vwp:()=>ie,w3H:()=>_t,wUP:()=>D,wYB:()=>At,wYn:()=>Je,we_:()=>tt,wm:()=>P,wx7:()=>en,x12:()=>O,xJR:()=>dt,xQA:()=>xt,xnO:()=>B,y7R:()=>q,yQU:()=>Xe,yj2:()=>R,zbQ:()=>wt,zvY:()=>x,zws:()=>b});const r="Abs",s="Acos",a="Acosh",o="Add",i="AddN",l="All",c="Any",u="ArgMax",d="ArgMin",h="Asin",p="Asinh",g="Atan",f="Atanh",m="Atan2",y="AvgPool",w="AvgPoolGrad",v="AvgPool3D",S="AvgPool3DGrad",k="BatchMatMul",b="BatchToSpaceND",x="Bincount",F="BroadcastTo",T="BroadcastArgs",I="Cast",E="Ceil",B="ClipByValue",A="Complex",R="ComplexAbs",N="Concat",M="Conv2D",D="Conv2DBackpropFilter",P="Conv2DBackpropInput",O="Conv3D",C="Conv3DBackpropFilterV2",L="Conv3DBackpropInputV2",U="Cos",$="Cosh",_="Cumprod",z="Cumsum",H="CropAndResize",j="DenseBincount",V="DepthToSpace",G="DepthwiseConv2dNative",W="DepthwiseConv2dNativeBackpropFilter",q="DepthwiseConv2dNativeBackpropInput",J="Diag",Q="Dilation2D",X="Dilation2DBackpropInput",Y="Dilation2DBackpropFilter",Z="RealDiv",K="Einsum",ee="Elu",te="EluGrad",ne="Erf",re="Equal",se="Exp",ae="ExpandDims",oe="Expm1",ie="FFT",le="Fill",ce="FlipLeftRight",ue="Floor",de="FloorDiv",he="FusedBatchNorm",pe="GatherV2",ge="GatherNd",fe="Greater",me="GreaterEqual",ye="Identity",we="IFFT",ve="Imag",Se="IsFinite",ke="IsInf",be="IsNan",xe="LeakyRelu",Fe="Less",Te="LessEqual",Ie="LinSpace",Ee="Log",Be="Log1p",Ae="LogicalAnd",Re="LogicalNot",Ne="LogicalOr",Me="LogSoftmax",De="LRN",Pe="LRNGrad",Oe="Max",Ce="Maximum",Le="MaxPool",Ue="MaxPoolGrad",$e="MaxPool3D",_e="MaxPool3DGrad",ze="MaxPoolWithArgmax",He="Mean",je="Min",Ve="Minimum",Ge="MirrorPad",We="Mod",qe="Multinomial",Je="Multiply",Qe="Neg",Xe="NotEqual",Ye="NonMaxSuppressionV3",Ze="NonMaxSuppressionV4",Ke="NonMaxSuppressionV5",et="OnesLike",tt="OneHot",nt="Pack",rt="PadV2",st="Pow",at="Prelu",ot="Prod",it="RaggedGather",lt="RaggedRange",ct="RaggedTensorToTensor",ut="Range",dt="Real",ht="Reciprocal",pt="Relu",gt="Reshape",ft="ResizeNearestNeighbor",mt="ResizeNearestNeighborGrad",yt="ResizeBilinear",wt="ResizeBilinearGrad",vt="Relu6",St="Reverse",kt="Round",bt="Rsqrt",xt="ScatterNd",Ft="SearchSorted",Tt="Select",It="Selu",Et="Slice",Bt="Sin",At="Sinh",Rt="Sign",Nt="Sigmoid",Mt="Softplus",Dt="Sqrt",Pt="Sum",Ot="SpaceToBatchND",Ct="SplitV",Lt="Softmax",Ut="SparseFillEmptyRows",$t="SparseReshape",_t="SparseSegmentMean",zt="SparseSegmentSum",Ht="SparseToDense",jt="SquaredDifference",Vt="Square",Gt="StridedSlice",Wt="StringNGrams",qt="StringSplit",Jt="StringToHashBucketFast",Qt="Sub",Xt="Tan",Yt="Tanh",Zt="Tile",Kt="TopK",en="Transform",tn="Transpose",nn="Unique",rn="Unpack",sn="UnsortedSegmentSum",an="ZerosLike",on="Step",ln="FromPixels",cn="RotateWithOffset",un="_FusedMatMul",dn="FusedConv2D",hn="FusedDepthwiseConv2D"},26151:(e,t,n)=>{n.d(t,{Li:()=>h,pI:()=>l,tr:()=>u,uk:()=>c,wC:()=>d});var r=n(22885),s=n(55938),a=n(64706);const o=(0,s.R)("kernelRegistry",(()=>new Map)),i=(0,s.R)("gradRegistry",(()=>new Map));function l(e,t){const n=p(e,t);return o.get(n)}function c(e){return i.get(e)}function u(e){const t=o.entries(),n=[];for(;;){const{done:r,value:s}=t.next();if(r)break;const[a,o]=s,[i]=a.split("_");i===e&&n.push(o)}return n}function d(e){const{kernelName:t,backendName:n}=e,r=p(t,n);o.has(r)&&a.Z(`The kernel '${t}' for backend '${n}' is already registered`),o.set(r,e)}function h(e){const{kernelName:t}=e;i.has(t)&&(0,r.OB)().getBool("DEBUG")&&a.Z(`Overriding the gradient for '${t}'`),i.set(t,e)}function p(e,t){return`${t}_${e}`}}}]);